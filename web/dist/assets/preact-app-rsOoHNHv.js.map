{"version":3,"mappings":"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","names":["n","l","u","i","r","o","e","f","c","s","a","h","p","y","v","w","d","g","_","t","m","b","k","x","S","C","M","$","O","z","I","P","q","A","L","B","H","T","j","F","D","N","V","E","G","J","K","htm","html","WebSocketClient","storedClientId","protocol","wsUrl","connectTimeout","event","error","fallbackEvent","delay","type","topic","payload","message","queue","params","success","data","parsedPayload","key","handlers","handler","BatchDeleteRecordingsClient","wsClient","resolve","reject","clientId","resultHandler","errorHandler","requestParams","progressData","resultData","progressUpdate","errorData","R","U","W","Z","Y","Q","X","nn","tn","en","rn","un","on","cn","ln","fn","an","sn","hn","vn","dn","pn","mn","yn","_n","bn","Sn","gn","En","Cn","xn","Rn","VERSION","fetchSystemVersion","Header","activeNav","version","username","setUsername","useState","mobileMenuOpen","setMobileMenuOpen","useEffect","auth","extractedUsername","handleLogout","iframe","toggleMobileMenu","navItems","renderNavItem","item","isActive","baseClasses","desktopClasses","mobileClasses","activeClass","_a","__template","_c","_b","loadHeader","headerContainer","__vitePreload","render","_d","Footer","year","_e","loadFooter","footerContainer","_f","Subscribable","listener","identity","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","parseQueryArgs","arg1","arg2","arg3","isQueryKey","parseMutationArgs","parseFilterArgs","matchQuery","filters","query","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","matchMutation","mutation","fetching","mutationKey","hashQueryKey","options","val","isPlainObject","result","partialDeepEqual","replaceEqualDeep","array","isPlainArray","aSize","bItems","bSize","copy","equalItems","shallowEqualObjects","hasObjectPrototype","ctor","prot","sleep","timeout","scheduleMicrotask","callback","getAbortController","replaceData","prevData","FocusManager","onFocus","_this$cleanup","setup","_this$cleanup2","focused","focusManager","onlineEvents","OnlineManager","onOnline","online","onlineManager","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","isCancelledError","createRetryer","config","isRetryCancelled","isResolved","continueFn","promiseResolve","promiseReject","promise","outerResolve","outerReject","cancel","cancelOptions","cancelRetry","continueRetry","shouldPause","pause","continueResolve","canContinue","run","promiseOrValue","_config$retry","_config$retryDelay","retry","retryDelay","shouldRetry","defaultLogger","createNotifyManager","transactions","notifyFn","batchNotifyFn","batch","flush","schedule","batchCalls","args","originalQueue","notifyManager","Removable","newCacheTime","Query","getDefaultState","newData","state","setStateOptions","_this$retryer","observer","_this$retryer2","_this$retryer3","fetchOptions","_this$options$behavio","_context$fetchOptions","_this$retryer4","abortController","queryFnContext","addSignalProperty","object","fetchFn","context","_context$fetchOptions2","onError","_this$cache$config$on","_this$cache$config","_this$cache$config$on2","_this$cache$config2","_this$cache$config$on3","_this$cache$config3","_this$cache$config$on4","_this$cache$config4","action","reducer","_action$meta","_action$dataUpdatedAt","hasData","initialDataUpdatedAt","QueryCache","client","_options$queryHash","queryHash","queryInMap","Mutation","_this$retryer$continu","executeMutation","_this$options$retry","restored","_this$mutationCache$c3","_this$mutationCache$c4","_this$options$onSucce","_this$options2","_this$mutationCache$c5","_this$mutationCache$c6","_this$options$onSettl","_this$options3","_this$mutationCache$c","_this$mutationCache$c2","_this$options$onMutat","_this$options","_this$mutationCache$c7","_this$mutationCache$c8","_this$options$onError","_this$options4","_this$mutationCache$c9","_this$mutationCache$c10","_this$options$onSettl2","_this$options5","MutationCache","_this$resuming","pausedMutations","infiniteQueryBehavior","_context$fetchOptions3","_context$fetchOptions4","_context$state$data","_context$state$data2","refetchPage","fetchMore","pageParam","isFetchingNextPage","isFetchingPreviousPage","oldPages","oldPageParams","newPageParams","cancelled","_context$signal","_context$signal2","queryFn","buildNewPages","pages","param","page","previous","fetchPage","manual","queryFnResult","getNextPageParam","getPreviousPageParam","QueryClient","_this$unsubscribeFocu","_this$unsubscribeOnli","_this$queryCache$find","parsedOptions","cachedData","queryKeyOrFilters","defaultedOptions","_this$queryCache$find2","queryCache","refetchFilters","promises","_ref","_filters$refetchType","_options$cancelRefetc","firstMatchingDefaults","QueryObserver","shouldFetchOnMount","shouldFetchOn","notifyOptions","prevOptions","prevQuery","mounted","shouldFetchOptionally","nextRefetchInterval","shouldAssignObserverCurrentProperties","trackedResult","_fetchOptions$cancelR","_this$options$refetch","nextInterval","prevResult","prevResultState","prevResultOptions","queryChange","queryInitialState","prevQueryResult","dataUpdatedAt","errorUpdatedAt","status","isPreviousData","isPlaceholderData","fetchOnMount","fetchOptionally","selectError","placeholderData","isFetching","isLoading","isError","isStale","nextResult","defaultNotifyOptions","shouldNotifyListeners","notifyOnChangeProps","includedProps","typedKey","shouldLoadOnMount","field","optimisticResult","_this$currentMutation","_this$currentMutation2","variables","_this$mutateOptions$o","_this$mutateOptions","_this$mutateOptions$o2","_this$mutateOptions2","_this$mutateOptions$o3","_this$mutateOptions3","_this$mutateOptions$o4","_this$mutateOptions4","React","require$$0","is","objectIs","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","useSyncExternalStore","uSES","defaultContext","React.createContext","QueryClientSharingContext","getQueryClientContext","contextSharing","useQueryClient","queryClient","React.useContext","QueryClientProvider","children","React.useEffect","Context","React.createElement","IsRestoringContext","useIsRestoring","createValue","isReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","shouldThrowError","_useErrorBoundary","ensurePreventErrorBoundaryRetry","errorResetBoundary","useClearResetErrorBoundary","getHasError","useErrorBoundary","ensureStaleTime","willFetch","isRestoring","shouldSuspend","fetchOptimistic","useBaseQuery","Observer","React.useState","React.useCallback","onStoreChange","unsubscribe","useQuery","useMutation","MutationObserver","mutate","mutateOptions","enhancedFetch","url","retries","externalSignal","timeoutController","timeoutId","signal","combineSignals","optionsWithSignal","lastError","attempt","response","newTimeoutController","signals","controller","onAbort","createRequestController","fetchJSON","originalUseQueryClient","queryKeyOrOptions","queryOptions","originalUseQuery","originalUseMutation","usePostMutation","mutationOptions","useDeleteMutation","setupModals","snapshotModalContainer","snapshotModal","videoModalContainer","videoModal","modal","addStatusMessageStyles","initToastContainer","style","addModalStyles","DeleteConfirmationModal","props","isOpen","onClose","onConfirm","mode","count","title","handleKeyDown","handleBackgroundClick","_g","showVideoModal","videoUrl","downloadUrl","overlay","modalContainer","header","titleElement","closeButton","videoContainer","video","controlsContainer","heading","controlsGrid","speedControlsSection","speedHeading","speedButtonsContainer","speed","button","btn","currentSpeedIndicator","detectionSection","detectionHeading","detectionControlsContainer","detectionCheckboxContainer","detectionCheckbox","detectionCheckboxLabel","sensitivityContainer","sensitivityLabel","sensitivityValue","sensitivitySlider","timeWindow","detectionOverlayEnabled","drawDetections","detectionStatusIndicator","downloadSection","downloadButton","footer","canvasContainer","detectionCanvas","recordingData","detections","recordingIdMatch","recordingId","queryContainer","recording","isLoadingRecording","recordingError","detectionQueryEnabled","startTime","endTime","streamName","detectionData","isLoadingDetections","detectionError","err","videoWidth","videoHeight","ctx","currentTime","currentTimestamp","visibleDetections","detection","width","height","labelText","labelWidth","handleEscape","showStatusMessage","duration","showToast","statusContainer","messageElement","typeClass","showSnapshotPreview","imageData","snapshotTitle","snapshotImage","snapshotDownloadBtn","snapshotCloseBtn","closeButtons","modalContent","closeModal","storedImageData","storedStreamName","canvas","img","newWidth","newHeight","optimizedJpegData","filename","iframeDoc","onMessage","iframeError","tryDirectLinkDownload","canvasError","dataUrl","link","linkError","originalConnect","originalOnOpen","originalOnError","originalOnClose","originalOnMessage","originalHandleMessage","clientIdBefore","clientIdAfter","createStore","initialState","listeners","newState","websocketStore","connected","setupGlobalAuthHandler","originalFetch","currentPath","initApp","currentPage","appRoot","mainContent","module"],"ignoreList":[0,1,4,5,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37],"sources":["../../node_modules/preact/dist/preact.module.js","../../node_modules/htm/dist/htm.module.js","../../js/html-helper.js","../../js/websocket-client.js","../../node_modules/preact/hooks/dist/hooks.module.js","../../node_modules/preact/compat/dist/compat.module.js","../../js/version.js","../../js/components/preact/utils.js","../../js/components/preact/Header.js","../../js/components/preact/Footer.js","../../node_modules/@tanstack/query-core/build/lib/subscribable.mjs","../../node_modules/@tanstack/query-core/build/lib/utils.mjs","../../node_modules/@tanstack/query-core/build/lib/focusManager.mjs","../../node_modules/@tanstack/query-core/build/lib/onlineManager.mjs","../../node_modules/@tanstack/query-core/build/lib/retryer.mjs","../../node_modules/@tanstack/query-core/build/lib/logger.mjs","../../node_modules/@tanstack/query-core/build/lib/notifyManager.mjs","../../node_modules/@tanstack/query-core/build/lib/removable.mjs","../../node_modules/@tanstack/query-core/build/lib/query.mjs","../../node_modules/@tanstack/query-core/build/lib/queryCache.mjs","../../node_modules/@tanstack/query-core/build/lib/mutation.mjs","../../node_modules/@tanstack/query-core/build/lib/mutationCache.mjs","../../node_modules/@tanstack/query-core/build/lib/infiniteQueryBehavior.mjs","../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs","../../node_modules/@tanstack/query-core/build/lib/queryObserver.mjs","../../node_modules/@tanstack/query-core/build/lib/mutationObserver.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useSyncExternalStore.js","../../node_modules/@preact-signals/query/dist/esm/react-query/QueryClientProvider.js","../../node_modules/@preact-signals/query/dist/esm/react-query/isRestoring.js","../../node_modules/@preact-signals/query/dist/esm/react-query/QueryErrorResetBoundary.js","../../node_modules/@preact-signals/query/dist/esm/react-query/utils.js","../../node_modules/@preact-signals/query/dist/esm/react-query/errorBoundaryUtils.js","../../node_modules/@preact-signals/query/dist/esm/react-query/suspense.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useBaseQuery.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useQuery.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useMutation.js","../../js/fetch-utils.js","../../js/query-client.js","../../js/components/preact/UI.js","../../js/preact-app.js"],"sourcesContent":["var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},y=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)null==e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,z(f,t,c),t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,v,w,d,g,_=t&&t.__k||y,m=l.length;for(f=P(u,l,_,f,m),a=0;a<m;a++)null!=(v=u.__k[a])&&(h=-1==v.__i?p:_[v.__i]||p,v.__i=a,g=O(n,v,h,i,r,o,e,f,c,s),w=v.__e,v.ref&&h.ref!=v.ref&&(h.ref&&q(h.ref,null,v),s.push(v.ref,v.__c||w,v)),null==d&&null!=w&&(d=w),4&v.__u||h.__k===v.__k?f=A(v,f,n):\"function\"==typeof v.type&&void 0!==g?f=g:w&&(f=w.nextSibling),v.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),B(e,e));return t}function A(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=A(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=S(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o=n.key,e=n.type,f=l[u];if(null===f&&null==n.key||f&&o==f.key&&e==f.type&&0==(2&f.__u))return u;if(t>(null!=f&&0==(2&f.__u)?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e==f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e==f.type)return r;r++}}return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||v.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"==l||\"onFocusIn\"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,y,v,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),y=h.props,v=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,v,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(y,v)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else for(T=o.length;T--;)g(o[T]);else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=V(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n,u,t){for(var i=0;i<t.length;i++)q(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(N):d({},n)}function V(u,t,i,r,o,e,f,c,s){var a,h,y,v,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)y=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?v=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||y&&(h.__html==y.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(y&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(v)?v:[v],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function q(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function B(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||q(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,u){return this.constructor(n,u)}function E(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),z(e,u,f)}function G(n,l){E(n,l,G)}function J(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=null==u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=y.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,t as isValidElement,l as options,E as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","/**\n * LightNVR Web Interface HTML Helper\n * Provides the html template literal function for Preact components\n */\n\nimport { h } from 'preact';\nimport htm from 'htm';\n\n// Initialize htm with Preact's h\nexport const html = htm.bind(h);\n","/**\n * WebSocket Client for LightNVR\n * Provides a reusable WebSocket connection with automatic reconnection\n */\n\n/**\n * WebSocket Client class\n */\nexport class WebSocketClient {\n    /**\n     * Generate a UUID v4\n     * @returns {string} A random UUID\n     */\n    static generateUUID() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            const r = Math.random() * 16 | 0;\n            const v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n    \n    /**\n     * Create a new WebSocket client\n     */\n    constructor() {\n        this.socket = null;\n        // Generate a client ID locally instead of waiting for one from the server\n        this.clientId = WebSocketClient.generateUUID();\n        this.connected = false;\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 5;\n        this.reconnectDelay = 1000; // Start with 1 second delay\n        this.handlers = {};\n        this.subscriptions = new Set();\n        this.pendingSubscriptions = new Set();\n        this.messageQueue = [];\n        this.connecting = false;\n        // Store subscription parameters\n        this.subscriptionParams = new Map();\n        \n        console.log(`Generated local WebSocket client ID: ${this.clientId}`);\n        \n        // Try to load client ID from localStorage if available\n        try {\n            const storedClientId = localStorage.getItem('websocket_client_id');\n            if (storedClientId) {\n                this.clientId = storedClientId;\n                console.log(`Loaded WebSocket client ID from localStorage: ${this.clientId}`);\n            } else {\n                // Store the generated client ID\n                localStorage.setItem('websocket_client_id', this.clientId);\n                console.log(`Stored WebSocket client ID in localStorage: ${this.clientId}`);\n            }\n        } catch (e) {\n            console.warn('Could not access localStorage for client ID:', e);\n        }\n        \n        // Bind methods to this instance\n        this.connect = this.connect.bind(this);\n        this.disconnect = this.disconnect.bind(this);\n        this.reconnect = this.reconnect.bind(this);\n        this.send = this.send.bind(this);\n        this.subscribe = this.subscribe.bind(this);\n        this.unsubscribe = this.unsubscribe.bind(this);\n        this.handleMessage = this.handleMessage.bind(this);\n        this.processMessageQueue = this.processMessageQueue.bind(this);\n        \n        // Connect automatically\n        this.connect();\n    }\n    \n    /**\n     * Connect to the WebSocket server\n     */\n    connect() {\n        if (this.socket && (this.socket.readyState === WebSocket.OPEN || this.socket.readyState === WebSocket.CONNECTING)) {\n            console.log('WebSocket already connected or connecting');\n            return;\n        }\n        \n        if (this.connecting) {\n            console.log('WebSocket connection already in progress');\n            return;\n        }\n        \n        this.connecting = true;\n        \n        // Determine WebSocket URL based on current page protocol\n        const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n        const wsUrl = `${protocol}//${window.location.host}/api/ws`;\n        \n        console.log(`Connecting to WebSocket server at ${wsUrl}`);\n        \n        // Check if WebSocket is supported\n        if (typeof WebSocket === 'undefined') {\n            console.error('WebSocket not supported by this browser or environment');\n            this.connecting = false;\n            this.fallbackToHttp();\n            return;\n        }\n        \n        try {\n            // Create WebSocket with a timeout to handle stalled connections\n            const connectTimeout = setTimeout(() => {\n                console.error('WebSocket connection timeout');\n                if (this.socket && this.socket.readyState !== WebSocket.OPEN) {\n                    this.socket.close();\n                    this.socket = null;\n                    this.connecting = false;\n                    this.fallbackToHttp();\n                }\n            }, 10000); // 10 second timeout\n            \n            this.socket = new WebSocket(wsUrl);\n            \n            this.socket.onopen = () => {\n                clearTimeout(connectTimeout);\n                console.log('WebSocket connection established');\n                this.connected = true;\n                this.connecting = false;\n                this.reconnectAttempts = 0;\n                this.reconnectDelay = 1000;\n                \n                // Set a smaller buffer size for better compatibility with older systems\n                if (this.socket.bufferedAmount !== undefined) {\n                    console.log(`Initial WebSocket buffered amount: ${this.socket.bufferedAmount}`);\n                }\n                \n                // Resubscribe to topics\n                this.pendingSubscriptions = new Set([...this.subscriptions]);\n                this.subscriptions.clear();\n                this.processPendingSubscriptions();\n                \n                // Process any queued messages\n                this.processMessageQueue();\n            };\n            \n            this.socket.onmessage = (event) => {\n                try {\n                    this.handleMessage(event.data);\n                } catch (error) {\n                    console.error('Error handling WebSocket message:', error);\n                }\n            };\n            \n            this.socket.onclose = (event) => {\n                clearTimeout(connectTimeout);\n                console.log(`WebSocket connection closed: ${event.code} ${event.reason}`);\n                this.connected = false;\n                this.connecting = false;\n                \n                // Check for specific close codes that indicate compatibility issues\n                if (event.code === 1006) {\n                    console.warn('WebSocket closed abnormally (code 1006), possible compatibility issue');\n                    \n                    // If we've tried multiple times and keep getting 1006, fall back to HTTP\n                    if (this.reconnectAttempts >= 3) {\n                        console.warn('Multiple abnormal closures, falling back to HTTP');\n                        this.fallbackToHttp();\n                        return;\n                    }\n                }\n                \n                // Attempt to reconnect if not a normal closure\n                if (event.code !== 1000) {\n                    this.reconnect();\n                }\n            };\n            \n            this.socket.onerror = (error) => {\n                console.error('WebSocket error:', error);\n                this.connecting = false;\n                \n                // On error, increment reconnect attempts\n                this.reconnectAttempts++;\n                \n                // If we've had multiple errors, fall back to HTTP\n                if (this.reconnectAttempts >= 3) {\n                    console.warn('Multiple WebSocket errors, falling back to HTTP');\n                    this.fallbackToHttp();\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            this.connecting = false;\n            this.reconnect();\n        }\n    }\n    \n    /**\n     * Fall back to HTTP for operations\n     * This sets a flag that other components can check to use HTTP instead of WebSocket\n     */\n    fallbackToHttp() {\n        console.warn('Falling back to HTTP for operations');\n        this.usingHttpFallback = true;\n        \n        // Dispatch an event that components can listen for\n        const fallbackEvent = new CustomEvent('websocket-fallback', {\n            detail: { usingHttp: true }\n        });\n        window.dispatchEvent(fallbackEvent);\n        \n        // Try to notify any waiting operations\n        if (this.pendingSubscriptions.size > 0) {\n            console.log(`Notifying ${this.pendingSubscriptions.size} pending subscriptions about HTTP fallback`);\n        }\n    }\n    \n    /**\n     * Disconnect from the WebSocket server\n     */\n    disconnect() {\n        if (this.socket) {\n            this.socket.close(1000, 'Client disconnected');\n            this.socket = null;\n        }\n        \n        this.connected = false;\n        this.connecting = false;\n        // Don't reset clientId on disconnect since we're generating it locally\n        // this.clientId = null;\n        this.subscriptions.clear();\n        this.pendingSubscriptions.clear();\n        this.subscriptionParams.clear();\n        this.messageQueue = [];\n    }\n    \n    /**\n     * Reconnect to the WebSocket server with exponential backoff\n     */\n    reconnect() {\n        if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n            console.log('Maximum reconnect attempts reached');\n            return;\n        }\n        \n        this.reconnectAttempts++;\n        const delay = Math.min(30000, this.reconnectDelay * Math.pow(1.5, this.reconnectAttempts - 1));\n        \n        console.log(`Reconnecting in ${delay}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n        \n        setTimeout(() => {\n            this.connect();\n        }, delay);\n    }\n    \n    /**\n     * Send a message to the WebSocket server\n     * \n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Object} payload Message payload\n     * @returns {boolean} Whether the message was sent\n     */\n    send(type, topic, payload) {\n        if (!this.connected) {\n            console.log('WebSocket not connected, queueing message');\n            this.messageQueue.push({ type, topic, payload });\n            this.connect();\n            return false;\n        }\n        \n        const message = {\n            type,\n            topic,\n            payload\n        };\n        \n        try {\n            // Log the message being sent for debugging\n            console.log('Sending WebSocket message:', JSON.stringify(message));\n            \n            this.socket.send(JSON.stringify(message));\n            return true;\n        } catch (error) {\n            console.error('Error sending WebSocket message:', error);\n            this.messageQueue.push({ type, topic, payload });\n            return false;\n        }\n    }\n    \n    /**\n     * Process the message queue\n     */\n    processMessageQueue() {\n        if (!this.connected || this.messageQueue.length === 0) {\n            return;\n        }\n        \n        console.log(`Processing ${this.messageQueue.length} queued messages`);\n        \n        const queue = [...this.messageQueue];\n        this.messageQueue = [];\n        \n        for (const message of queue) {\n            this.send(message.type, message.topic, message.payload);\n        }\n    }\n    \n    /**\n     * Process pending subscriptions\n     */\n    processPendingSubscriptions() {\n        if (!this.connected || this.pendingSubscriptions.size === 0) {\n            return;\n        }\n        \n        console.log(`Processing ${this.pendingSubscriptions.size} pending subscriptions`);\n        \n        for (const topic of this.pendingSubscriptions) {\n            // Get parameters for this topic if available\n            const params = this.subscriptionParams.get(topic) || {};\n            this.subscribe(topic, params);\n        }\n        \n        this.pendingSubscriptions.clear();\n    }\n    \n    /**\n     * Subscribe to a topic\n     * \n     * @param {string} topic Topic to subscribe to\n     * @param {Object} params Additional parameters to include in the subscription\n     * @returns {boolean} Whether the subscription request was sent\n     */\n    subscribe(topic, params = {}) {\n        if (!this.connected) {\n            console.log(`WebSocket not connected, queueing subscription to ${topic}`);\n            this.pendingSubscriptions.add(topic);\n            this.connect();\n            return false;\n        }\n        \n        if (this.subscriptions.has(topic)) {\n            console.log(`Already subscribed to ${topic}, updating parameters`);\n            // Continue with the subscription to update parameters\n        }\n        \n        console.log(`Subscribing to ${topic} with params:`, params);\n        \n        // Store parameters for this topic\n        this.subscriptionParams.set(topic, params);\n        \n        // Include client_id in the payload to ensure server knows who's subscribing\n        const payload = {\n            client_id: this.clientId,\n            ...params\n        };\n        \n        const success = this.send('subscribe', topic, payload);\n        if (success) {\n            this.subscriptions.add(topic);\n        } else {\n            this.pendingSubscriptions.add(topic);\n        }\n        \n        return success;\n    }\n    \n    /**\n     * Unsubscribe from a topic\n     * \n     * @param {string} topic Topic to unsubscribe from\n     * @returns {boolean} Whether the unsubscription request was sent\n     */\n    unsubscribe(topic) {\n        if (!this.connected) {\n            console.log(`WebSocket not connected, cannot unsubscribe from ${topic}`);\n            this.pendingSubscriptions.delete(topic);\n            return false;\n        }\n        \n        if (!this.subscriptions.has(topic)) {\n            console.log(`Not subscribed to ${topic}`);\n            return true;\n        }\n        \n        console.log(`Unsubscribing from ${topic}`);\n        \n        const success = this.send('unsubscribe', topic, {});\n        if (success) {\n            this.subscriptions.delete(topic);\n            // Remove stored parameters for this topic\n            this.subscriptionParams.delete(topic);\n        }\n        \n        return success;\n    }\n    \n    /**\n     * Handle an incoming WebSocket message\n     * \n     * @param {string} data Message data\n     */\n    handleMessage(data) {\n        console.log('Raw WebSocket message received:', data);\n        \n        try {\n            const message = JSON.parse(data);\n            \n            if (!message.type || !message.topic) {\n                console.error('Invalid WebSocket message format:', message);\n                return;\n            }\n            \n            console.log(`Received WebSocket message: ${message.type} ${message.topic}`, message);\n            \n            // Debug log for progress and result messages\n            if (message.type === 'progress' || message.type === 'result') {\n                console.log(`Received ${message.type} message for topic ${message.topic}:`, message.payload);\n            }\n            \n            // Always try to parse payload if it's a string (could be JSON)\n            if (typeof message.payload === 'string') {\n                try {\n                    const parsedPayload = JSON.parse(message.payload);\n                    console.log(`Parsed payload for ${message.type}:${message.topic}:`, parsedPayload);\n                    // Replace the string payload with the parsed object\n                    message.payload = parsedPayload;\n                } catch (e) {\n                    // Not JSON, keep as string\n                    console.log(`Payload for ${message.type}:${message.topic} is not JSON, keeping as string`);\n                }\n            }\n            \n            // Handle welcome message\n            if (message.type === 'welcome' && message.topic === 'system') {\n                console.log('Received welcome message:', message);\n                \n                // The payload might be a string that needs to be parsed\n                let payload = message.payload;\n                console.log('Welcome payload type:', typeof payload);\n                \n                // If payload is a string, try to parse it as JSON\n                if (typeof payload === 'string') {\n                    try {\n                        payload = JSON.parse(payload);\n                        console.log('Parsed welcome payload:', payload);\n                    } catch (e) {\n                        console.error('Error parsing welcome payload as JSON:', e);\n                        console.log('Raw payload string:', payload);\n                    }\n                }\n                \n                if (!payload || !payload.client_id) {\n                    console.error('Welcome message missing client_id:', payload);\n                } else {\n                    // Extract client ID from payload\n                    this.clientId = payload.client_id;\n                    console.log(`WebSocket client ID received: ${this.clientId}`);\n                    \n                    // Process pending subscriptions\n                    this.processPendingSubscriptions();\n                    \n                    // Notify any waiting operations\n                    console.log('Notifying any waiting operations about client ID');\n                }\n                return;\n            }\n            \n            // Handle other messages\n            const key = `${message.type}:${message.topic}`;\n            const handlers = this.handlers[key] || [];\n            \n            for (const handler of handlers) {\n                try {\n                    handler(message.payload);\n                } catch (error) {\n                    console.error(`Error in WebSocket message handler for ${key}:`, error);\n                }\n            }\n        } catch (error) {\n            console.error('Error parsing WebSocket message:', error);\n        }\n    }\n    \n    /**\n     * Register a message handler\n     * \n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Function} handler Message handler\n     */\n    on(type, topic, handler) {\n        const key = `${type}:${topic}`;\n        \n        if (!this.handlers[key]) {\n            this.handlers[key] = [];\n        }\n        \n        this.handlers[key].push(handler);\n        \n        // Subscribe to topic if not already subscribed\n        if (type !== 'welcome' && type !== 'ack' && type !== 'error') {\n            this.subscribe(topic);\n        }\n    }\n    \n    /**\n     * Unregister a message handler\n     * \n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Function} handler Message handler\n     */\n    off(type, topic, handler) {\n        const key = `${type}:${topic}`;\n        \n        if (!this.handlers[key]) {\n            return;\n        }\n        \n        if (handler) {\n            this.handlers[key] = this.handlers[key].filter(h => h !== handler);\n        } else {\n            this.handlers[key] = [];\n        }\n        \n        // Unsubscribe from topic if no more handlers\n        if (this.handlers[key].length === 0 && type !== 'welcome' && type !== 'ack' && type !== 'error') {\n            this.unsubscribe(topic);\n        }\n    }\n    \n    /**\n     * Get the client ID\n     * \n     * @returns {string|null} Client ID or null if not connected\n     */\n    getClientId() {\n        return this.clientId;\n    }\n    \n    /**\n     * Check if connected to the WebSocket server\n     * \n     * @returns {boolean} Whether connected to the WebSocket server\n     */\n    isConnected() {\n        return this.connected;\n    }\n}\n\n/**\n * BatchDeleteRecordingsClient class\n * Handles batch delete recordings operations via WebSocket\n */\nexport class BatchDeleteRecordingsClient {\n    /**\n     * Create a new BatchDeleteRecordingsClient\n     * \n     * @param {WebSocketClient} wsClient WebSocket client\n     */\n    constructor(wsClient) {\n        this.wsClient = wsClient;\n        this.topic = 'recordings/batch-delete';\n        this.progressHandlers = [];\n        this.resultHandlers = [];\n        this.errorHandlers = [];\n        \n        // Subscribe to topic\n        this.wsClient.subscribe(this.topic);\n        \n        // Register handlers\n        this.wsClient.on('progress', this.topic, (payload) => {\n            this.handleProgress(payload);\n        });\n        \n        this.wsClient.on('result', this.topic, (payload) => {\n            this.handleResult(payload);\n        });\n        \n        this.wsClient.on('error', this.topic, (payload) => {\n            this.handleError(payload);\n        });\n    }\n    \n    /**\n     * Delete recordings with progress updates\n     * \n     * @param {Object} params Delete parameters (ids or filter)\n     * @returns {Promise<Object>} Promise that resolves when the operation is complete\n     */\n    deleteWithProgress(params) {\n        return new Promise((resolve, reject) => {\n            console.log('Starting batch delete operation with params:', params);\n            \n            // Check if WebSocket is connected\n            if (!this.wsClient.isConnected()) {\n                console.error('WebSocket not connected, attempting to connect');\n                this.wsClient.connect();\n                \n                // Wait for connection and retry\n                setTimeout(() => {\n                    if (this.wsClient.isConnected()) {\n                        console.log('WebSocket connected, retrying batch delete');\n                        this.deleteWithProgress(params)\n                            .then(resolve)\n                            .catch(reject);\n                    } else {\n                        console.error('WebSocket still not connected, falling back to HTTP');\n                        // Fallback to HTTP if available\n                        if (typeof batchDeleteRecordingsByHttpRequest === 'function') {\n                            batchDeleteRecordingsByHttpRequest(params)\n                                .then(resolve)\n                                .catch(reject);\n                        } else {\n                            reject(new Error('WebSocket not connected and HTTP fallback not available'));\n                        }\n                    }\n                }, 1000);\n                return;\n            }\n            \n            // Get client ID (should always be available now since we generate it locally)\n            const clientId = this.wsClient.getClientId();\n            console.log('Using WebSocket client ID:', clientId);\n            \n            // No need to check if client ID is available or wait for welcome message\n            // since we're generating the client ID locally\n            \n            console.log('Registering WebSocket handlers for batch delete');\n            \n            // Register one-time result handler\n            const resultHandler = (payload) => {\n                console.log('Batch delete result received:', payload);\n                this.wsClient.off('result', this.topic, resultHandler);\n                \n                // Log the full payload details for debugging\n                console.log('Batch delete result details:', JSON.stringify(payload, null, 2));\n                \n                resolve(payload);\n            };\n            \n            // Register one-time error handler\n            const errorHandler = (payload) => {\n                console.error('Batch delete error received:', payload);\n                this.wsClient.off('error', this.topic, errorHandler);\n                reject(new Error(payload.error || 'Unknown error'));\n            };\n            \n            // Register handlers for both result and progress\n            this.wsClient.on('result', this.topic, resultHandler);\n            this.wsClient.on('error', this.topic, errorHandler);\n            \n            // Make sure we're subscribed to the topic\n            // Use an empty object as payload to avoid issues\n            if (!this.wsClient.subscriptions.has(this.topic)) {\n                console.log(`Subscribing to ${this.topic} before sending request`);\n                this.wsClient.send('subscribe', this.topic, {});\n                this.wsClient.subscriptions.add(this.topic);\n                \n                // Add a small delay to ensure subscription is processed\n                setTimeout(() => {\n                    // Send the actual delete request with client ID\n                    this.sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler);\n                }, 500);\n            } else {\n                // Already subscribed, send request immediately\n                this.sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler);\n            }\n        });\n    }\n    \n    /**\n     * Send the actual delete request\n     * \n     * @param {Object} params Delete parameters\n     * @param {string} clientId Client ID\n     * @param {Function} resolve Promise resolve function\n     * @param {Function} reject Promise reject function\n     * @param {Function} resultHandler Result handler to unregister on failure\n     * @param {Function} errorHandler Error handler to unregister on failure\n     */\n    sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler) {\n        console.log('Sending batch delete request');\n        \n        // Validate params\n        if (!params.ids && !params.filter) {\n            console.error('Missing ids or filter in batch delete params');\n            this.wsClient.off('result', this.topic, resultHandler);\n            this.wsClient.off('error', this.topic, errorHandler);\n            reject(new Error('Missing ids or filter in batch delete params'));\n            return;\n        }\n        \n        // Log the IDs if present for debugging\n        if (params.ids) {\n            console.log(`Deleting ${params.ids.length} recordings with IDs:`, params.ids);\n        } else if (params.filter) {\n            console.log('Deleting recordings with filter:', params.filter);\n        }\n        \n        // Include the client ID in the request payload\n        const requestParams = {\n            ...params,\n            client_id: clientId // Add client ID to the request\n        };\n        \n        // Log the full request details for debugging\n        console.log('Full request params:', JSON.stringify(requestParams, null, 2));\n        \n        // Create the complete message\n        const message = {\n            type: 'request',\n            topic: this.topic,\n            payload: requestParams\n        };\n        \n        // Log the complete message\n        console.log('Complete WebSocket message:', JSON.stringify(message, null, 2));\n        \n        // If we have a total count from the filter, simulate an initial progress update\n        // This helps the UI show progress even if the server doesn't send updates\n        if (params.filter && params.totalCount && typeof window.updateBatchDeleteProgress === 'function') {\n            console.log('Simulating initial progress update with total count:', params.totalCount);\n            window.updateBatchDeleteProgress({\n                current: 0,\n                total: params.totalCount,\n                succeeded: 0,\n                failed: 0,\n                status: `Starting batch delete operation for ${params.totalCount} recordings...`,\n                complete: false\n            });\n        }\n        \n        // Send the request\n        try {\n            if (this.wsClient.socket && this.wsClient.socket.readyState === WebSocket.OPEN) {\n                // Send directly to ensure it works\n                this.wsClient.socket.send(JSON.stringify(message));\n                console.log('Batch delete request sent successfully via direct socket send');\n                return true;\n            } else {\n                // Fall back to the send method\n                const success = this.wsClient.send('request', this.topic, requestParams);\n                \n                if (!success) {\n                    console.error('Failed to send batch delete request');\n                    this.wsClient.off('result', this.topic, resultHandler);\n                    this.wsClient.off('error', this.topic, errorHandler);\n                    reject(new Error('Failed to send batch delete request'));\n                } else {\n                    console.log('Batch delete request sent successfully via send method');\n                }\n                \n                return success;\n            }\n        } catch (error) {\n            console.error('Error sending batch delete request:', error);\n            this.wsClient.off('result', this.topic, resultHandler);\n            this.wsClient.off('error', this.topic, errorHandler);\n            reject(error);\n            return false;\n        }\n    }\n    \n    /**\n     * Handle progress update\n     * \n     * @param {Object} payload Progress payload\n     */\n    handleProgress(payload) {\n        console.log('Batch delete progress update received:', payload);\n        \n        // Ensure payload is an object\n        let progressData = payload;\n        \n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                progressData = JSON.parse(payload);\n                console.log('Parsed progress payload:', progressData);\n            } catch (e) {\n                console.error('Error parsing progress payload:', e);\n                // Keep original payload if parsing fails\n                progressData = { error: 'Failed to parse progress data' };\n            }\n        }\n        \n        // Directly update the progress UI with the progress data\n        // This ensures the progress bar is updated even if the registered handlers don't work\n        if (typeof window.updateBatchDeleteProgress === 'function' && progressData) {\n            try {\n                console.log('Directly updating progress UI with:', progressData);\n                window.updateBatchDeleteProgress(progressData);\n            } catch (error) {\n                console.error('Error directly updating progress UI:', error);\n            }\n        }\n        \n        // Call all registered progress handlers with the progress data\n        for (const handler of this.progressHandlers) {\n            try {\n                handler(progressData);\n            } catch (error) {\n                console.error('Error in progress handler:', error);\n            }\n        }\n    }\n    \n    /**\n     * Handle result\n     * \n     * @param {Object} payload Result payload\n     */\n    handleResult(payload) {\n        console.log('Batch delete result received:', payload);\n        \n        // Ensure payload is an object\n        let resultData = payload;\n        \n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                resultData = JSON.parse(payload);\n                console.log('Parsed result payload:', resultData);\n            } catch (e) {\n                console.error('Error parsing result payload:', e);\n                // Keep original payload if parsing fails\n                resultData = { error: 'Failed to parse result data' };\n            }\n        }\n        \n        // Also update the progress UI with the final result data\n        // This ensures the progress bar shows 100% even if no progress updates were received\n        if (typeof window.updateBatchDeleteProgress === 'function' && resultData) {\n            try {\n                // Create a progress update from the result data\n                const progressUpdate = {\n                    current: resultData.total || 0,\n                    total: resultData.total || 0,\n                    succeeded: resultData.succeeded || 0,\n                    failed: resultData.failed || 0,\n                    status: 'Batch delete operation complete',\n                    complete: true\n                };\n                \n                console.log('Updating progress UI with final result:', progressUpdate);\n                window.updateBatchDeleteProgress(progressUpdate);\n            } catch (error) {\n                console.error('Error updating progress UI from result:', error);\n            }\n        }\n        \n        // Call all registered result handlers with the result data\n        for (const handler of this.resultHandlers) {\n            try {\n                handler(resultData);\n            } catch (error) {\n                console.error('Error in result handler:', error);\n            }\n        }\n    }\n    \n    /**\n     * Handle error\n     * \n     * @param {Object} payload Error payload\n     */\n    handleError(payload) {\n        console.log('Batch delete error received:', payload);\n        \n        // Ensure payload is an object\n        let errorData = payload;\n        \n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                errorData = JSON.parse(payload);\n                console.log('Parsed error payload:', errorData);\n            } catch (e) {\n                console.error('Error parsing error payload:', e);\n                // Keep original payload if parsing fails\n                errorData = { error: typeof payload === 'string' ? payload : 'Unknown error' };\n            }\n        }\n        \n        // Call all registered error handlers with the error data\n        for (const handler of this.errorHandlers) {\n            try {\n                handler(errorData);\n            } catch (error) {\n                console.error('Error in error handler:', error);\n            }\n        }\n    }\n    \n    /**\n     * Register progress handler\n     * \n     * @param {Function} handler Progress handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onProgress(handler) {\n        this.progressHandlers.push(handler);\n        \n        return () => {\n            this.progressHandlers = this.progressHandlers.filter(h => h !== handler);\n        };\n    }\n    \n    /**\n     * Register result handler\n     * \n     * @param {Function} handler Result handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onResult(handler) {\n        this.resultHandlers.push(handler);\n        \n        return () => {\n            this.resultHandlers = this.resultHandlers.filter(h => h !== handler);\n        };\n    }\n    \n    /**\n     * Register error handler\n     * \n     * @param {Function} handler Error handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onError(handler) {\n        this.errorHandlers.push(handler);\n        \n        return () => {\n            this.errorHandlers = this.errorHandlers.filter(h => h !== handler);\n        };\n    }\n}\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as c,createRef as l,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as p,useId as m,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),e.v||(e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.h.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}),o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var cn,ln={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var c=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==c||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var l=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===c?c=\"\":\"translate\"===l&&\"no\"===c?c=!1:\"o\"===l[0]&&\"n\"===l[1]?\"ondoubleclick\"===l?i=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===l?i=\"onfocusin\":\"onblur\"===l?i=\"onfocusout\":J.test(i)&&(i=l):l=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===c&&(c=void 0),\"oninput\"===l&&u[i=l]&&(i=\"oninputCapture\"),u[i]=c}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",ln)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),cn=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),cn=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return cn.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:p,useDeferredValue:w,useEffect:h,useId:m,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function pn(n){return!!n&&n.$$typeof===q}function mn(n){return pn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return pn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=pn,Rn={useState:a,useId:m,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:p,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:c,createFactory:dn,cloneElement:_n,createRef:l,Fragment:u,isValidElement:pn,isElement:xn,isFragment:mn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,mn as isFragment,yn as isMemo,pn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","/**\n * LightNVR version information\n * This file is auto-generated from CMakeLists.txt during the build process\n * DO NOT EDIT MANUALLY\n */\n\nexport const VERSION = '0.11.6';\n","/**\n * LightNVR Web Interface Utility Functions\n * Shared utility functions for Preact components\n */\n\n// Import the static version information\nimport { VERSION } from '../../version.js';\n\n/**\n * Get system version from the static version file\n * This version is extracted from CMakeLists.txt during the build process\n * @returns {string} The system version\n */\nexport function fetchSystemVersion() {\n  // Return the static version from the imported module\n  return VERSION;\n}\n","/**\n * LightNVR Web Interface Header Component\n * Preact component for the site header\n */\n\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport { html } from '../../html-helper.js';\nimport { fetchSystemVersion } from './utils.js';\n\n/**\n * Header component\n * @param {Object} props - Component props\n * @param {string} props.activeNav - ID of the active navigation item\n * @param {string} props.version - System version\n * @returns {JSX.Element} Header component\n */\nexport function Header({ activeNav = '', version = '' }) {\n  const [username, setUsername] = useState('');\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  // Get the currently logged in username from localStorage\n  useEffect(() => {\n    const auth = localStorage.getItem('auth');\n    if (auth) {\n      try {\n        // Decode the base64 auth string (username:password)\n        const decoded = atob(auth);\n        // Extract the username (everything before the colon)\n        const extractedUsername = decoded.split(':')[0];\n        setUsername(extractedUsername);\n      } catch (error) {\n        console.error('Error decoding auth token:', error);\n        setUsername('User');\n      }\n    } else {\n      setUsername('User');\n    }\n  }, []);\n\n  // Handle logout\n  const handleLogout = (e) => {\n    e.preventDefault();\n\n    // Clear localStorage\n    localStorage.removeItem('auth');\n\n    // Clear cookies\n    document.cookie = \"auth=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict\";\n    document.cookie = \"session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict\";\n\n    // Call the logout endpoint to clear browser's basic auth cache\n    fetch('/api/auth/logout', {\n      method: 'POST'\n    }).then(() => {\n      // For Chrome, we need to make a request with invalid credentials to clear the auth cache\n      // Create an iframe to make a request with invalid credentials\n      const iframe = document.createElement('iframe');\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n      \n      // Set a timeout to redirect after attempting to clear auth cache\n      setTimeout(() => {\n        // Redirect to login page with auth_required parameter to prevent auto-redirect\n        window.location.href = 'login.html?auth_required=true&logout=true';\n      }, 100);\n\n      // Try to load a protected resource with invalid credentials in the iframe\n      if (iframe.contentWindow) {\n        iframe.contentWindow.location.href = '/api/auth/verify';\n      }\n    }).catch(() => {\n      // Redirect even if the request fails\n      window.location.href = 'login.html?auth_required=true&logout=true';\n    });\n  };\n\n  // Toggle mobile menu\n  const toggleMobileMenu = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n  };\n\n  // Special handling for Live View link to handle both index.html and root URL\n  const getLiveViewHref = () => {\n    // Check if we're on the root URL or index.html\n    const isRoot = window.location.pathname === '/' || window.location.pathname.endsWith('/');\n    \n    // If we're on the root URL, stay on the root URL\n    if (isRoot) {\n      return './';\n    }\n    \n    // Otherwise, default to index.html\n    return 'index.html';\n  };\n\n  // Navigation items - don't preserve query parameters when navigating via header\n  const navItems = [\n    { id: 'nav-live', href: getLiveViewHref(), label: 'Live View' },\n    { id: 'nav-recordings', href: 'recordings.html', label: 'Recordings' },\n    { id: 'nav-streams', href: 'streams.html', label: 'Streams' },\n    { id: 'nav-settings', href: 'settings.html', label: 'Settings' },\n    { id: 'nav-users', href: 'users.html', label: 'Users' },\n    { id: 'nav-system', href: 'system.html', label: 'System' }\n  ];\n\n  // Render navigation item\n  const renderNavItem = (item) => {\n    const isActive = activeNav === item.id;\n    const baseClasses = \"text-white no-underline rounded transition-colors\";\n    const desktopClasses = \"px-3 py-2\";\n    const mobileClasses = \"block w-full px-4 py-3 text-left\";\n    const activeClass = isActive ? 'bg-blue-600' : 'hover:bg-blue-700';\n\n    return html`\n      <li class=${mobileMenuOpen ? \"w-full\" : \"mx-1\"}>\n        <a\n          href=\"${item.href}\"\n          id=${item.id}\n          class=${`${baseClasses} ${mobileMenuOpen ? mobileClasses : desktopClasses} ${activeClass}`}\n          onClick=${mobileMenuOpen ? toggleMobileMenu : null}\n        >\n          ${item.label}\n        </a>\n      </li>\n    `;\n  };\n\n  return html`\n    <header class=\"bg-gray-800 text-white py-2 shadow-md mb-4 w-full\">\n      <div class=\"container mx-auto px-4 flex justify-between items-center\">\n        <div class=\"logo flex items-center\">\n          <h1 class=\"text-xl font-bold m-0\">LightNVR</h1>\n          <span class=\"version text-blue-200 text-xs ml-2\">v${version}</span>\n        </div>\n\n        <!-- Desktop Navigation -->\n        <nav class=\"hidden md:block\">\n          <ul class=\"flex list-none m-0 p-0\">\n            ${navItems.map(renderNavItem)}\n          </ul>\n        </nav>\n\n        <!-- User Menu (Desktop) -->\n        <div class=\"user-menu hidden md:flex items-center\">\n          <span class=\"mr-2\">${username}</span>\n          <a href=\"#\" onClick=${handleLogout} class=\"text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n        </div>\n\n        <!-- Mobile Menu Button -->\n        <button\n          class=\"md:hidden text-white p-2 focus:outline-none\"\n          onClick=${toggleMobileMenu}\n          aria-label=\"Toggle menu\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=${mobileMenuOpen ? \"M6 18L18 6M6 6l12 12\" : \"M4 6h16M4 12h16M4 18h16\"} />\n          </svg>\n        </button>\n      </div>\n\n      <!-- Mobile Navigation -->\n      ${mobileMenuOpen ? html`\n        <div class=\"md:hidden mt-2 border-t border-gray-700 pt-2 container mx-auto px-4\">\n          <ul class=\"list-none m-0 p-0 flex flex-col w-full\">\n            ${navItems.map(renderNavItem)}\n            <li class=\"w-full mt-2 pt-2 border-t border-gray-700\">\n              <div class=\"flex justify-between items-center px-4 py-2\">\n                <span>${username}</span>\n                <a href=\"#\" onClick=${handleLogout} class=\"text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n              </div>\n            </li>\n          </ul>\n        </div>\n      ` : null}\n    </header>\n  `;\n}\n\n/**\n * Load header with active navigation item\n * @param {string} activeNav - ID of the active navigation item\n */\nexport function loadHeader(activeNav = '') {\n  const headerContainer = document.getElementById('header-container');\n  if (!headerContainer) return;\n\n  // Get the version\n  const version = fetchSystemVersion();\n\n  // Render the header with version\n  import('preact').then(({ render }) => {\n    render(html`<${Header} activeNav=${activeNav} version=${version} />`, headerContainer);\n  }).catch(error => {\n    console.error('Error importing Preact:', error);\n  });\n}\n","/**\n * LightNVR Web Interface Footer Component\n * Preact component for the site footer\n */\n\nimport { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { html } from '../../html-helper.js';\nimport { fetchSystemVersion } from './utils.js';\n\n/**\n * Footer component\n * @param {Object} props - Component props\n * @returns {JSX.Element} Footer component\n */\nexport function Footer() {\n  const [year] = useState(new Date().getFullYear());\n\n  return html`\n    <footer class=\"bg-gray-800 text-white py-3 px-4 mt-4 shadow-inner\">\n      <div class=\"container mx-auto flex flex-col sm:flex-row justify-between items-center\">\n        <div class=\"text-center sm:text-left mb-2 sm:mb-0\">\n          <p class=\"text-sm\"> ${year} LightNVR \n            <a href=\"https://github.com/opensensor/lightnvr\" class=\"text-blue-300 hover:text-blue-100 text-sm\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>\n          </p>\n          <p class=\"text-xs text-gray-400 mt-1 hidden sm:block\">Lightweight Network Video Recorder</p>\n        </div>\n      </div>\n    </footer>\n  `;\n}\n\n/**\n * Load footer\n */\nexport function loadFooter() {\n  const footerContainer = document.getElementById('footer-container');\n  if (!footerContainer) return;\n\n  // Get the version\n  const version = fetchSystemVersion();\n\n  // Render the footer with version\n  import('preact').then(({ render }) => {\n    render(html`<${Footer} version=${version} />`, footerContainer);\n  }).catch(error => {\n    console.error('Error importing Preact for footer:', error);\n  });\n}","class Subscribable {\n  constructor() {\n    this.listeners = new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n\n  subscribe(listener) {\n    const identity = {\n      listener\n    };\n    this.listeners.add(identity);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(identity);\n      this.onUnsubscribe();\n    };\n  }\n\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n\n  onSubscribe() {// Do nothing\n  }\n\n  onUnsubscribe() {// Do nothing\n  }\n\n}\n\nexport { Subscribable };\n//# sourceMappingURL=subscribable.mjs.map\n","// TYPES\n// UTILS\nconst isServer = typeof window === 'undefined' || 'Deno' in window;\nfunction noop() {\n  return undefined;\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nfunction difference(array1, array2) {\n  return array1.filter(x => !array2.includes(x));\n}\nfunction replaceAt(array, index, value) {\n  const copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return { ...arg3,\n      queryKey: arg1,\n      queryFn: arg2\n    };\n  }\n\n  return { ...arg2,\n    queryKey: arg1\n  };\n}\nfunction parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return { ...arg3,\n        mutationKey: arg1,\n        mutationFn: arg2\n      };\n    }\n\n    return { ...arg2,\n      mutationKey: arg1\n    };\n  }\n\n  if (typeof arg1 === 'function') {\n    return { ...arg2,\n      mutationFn: arg1\n    };\n  }\n\n  return { ...arg1\n  };\n}\nfunction parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [{ ...arg2,\n    queryKey: arg1\n  }, arg3] : [arg1 || {}, arg2];\n}\nfunction parseMutationFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [{ ...arg2,\n    mutationKey: arg1\n  }, arg3] : [arg1 || {}, arg2];\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = 'all',\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  if (type !== 'all') {\n    const isActive = query.isActive();\n\n    if (type === 'active' && !isActive) {\n      return false;\n    }\n\n    if (type === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetchStatus !== 'undefined' && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const {\n    exact,\n    fetching,\n    predicate,\n    mutationKey\n  } = filters;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n * Hashes the value into a stable hash.\n */\n\nfunction hashQueryKey(queryKey) {\n  return JSON.stringify(queryKey, (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n    result[key] = val[key];\n    return result;\n  }, {}) : val);\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nfunction partialMatchKey(a, b) {\n  return partialDeepEqual(a, b);\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nfunction partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(key => !partialDeepEqual(a[key], b[key]));\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  const array = isPlainArray(a) && isPlainArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aSize = array ? a.length : Object.keys(a).length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    let equalItems = 0;\n\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nfunction shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  const ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  const prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isQueryKey(value) {\n  return Array.isArray(value);\n}\nfunction isError(value) {\n  return value instanceof Error;\n}\nfunction sleep(timeout) {\n  return new Promise(resolve => {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nfunction scheduleMicrotask(callback) {\n  sleep(0).then(callback);\n}\nfunction getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n\n  return;\n}\nfunction replaceData(prevData, data, options) {\n  // Use prev data if an isDataEqual function is defined and returns `true`\n  if (options.isDataEqual != null && options.isDataEqual(prevData, data)) {\n    return prevData;\n  } else if (typeof options.structuralSharing === 'function') {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    // Structurally share data between prev and new data if needed\n    return replaceEqualDeep(prevData, data);\n  }\n\n  return data;\n}\n\nexport { difference, functionalUpdate, getAbortController, hashQueryKey, hashQueryKeyByOptions, isError, isPlainArray, isPlainObject, isQueryKey, isServer, isValidTimeout, matchMutation, matchQuery, noop, parseFilterArgs, parseMutationArgs, parseMutationFilterArgs, parseQueryArgs, partialDeepEqual, partialMatchKey, replaceAt, replaceData, replaceEqualDeep, scheduleMicrotask, shallowEqualObjects, sleep, timeUntilStale };\n//# sourceMappingURL=utils.mjs.map\n","import { Subscribable } from './subscribable.mjs';\nimport { isServer } from './utils.mjs';\n\nclass FocusManager extends Subscribable {\n  constructor() {\n    super();\n\n    this.setup = onFocus => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus(); // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      }\n\n      return;\n    };\n  }\n\n  onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  }\n\n  setEventListener(setup) {\n    var _this$cleanup2;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(focused => {\n      if (typeof focused === 'boolean') {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n\n  setFocused(focused) {\n    const changed = this.focused !== focused;\n\n    if (changed) {\n      this.focused = focused;\n      this.onFocus();\n    }\n  }\n\n  onFocus() {\n    this.listeners.forEach(({\n      listener\n    }) => {\n      listener();\n    });\n  }\n\n  isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  }\n\n}\nconst focusManager = new FocusManager();\n\nexport { FocusManager, focusManager };\n//# sourceMappingURL=focusManager.mjs.map\n","import { Subscribable } from './subscribable.mjs';\nimport { isServer } from './utils.mjs';\n\nconst onlineEvents = ['online', 'offline'];\nclass OnlineManager extends Subscribable {\n  constructor() {\n    super();\n\n    this.setup = onOnline => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onOnline(); // Listen to online\n\n\n        onlineEvents.forEach(event => {\n          window.addEventListener(event, listener, false);\n        });\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          onlineEvents.forEach(event => {\n            window.removeEventListener(event, listener);\n          });\n        };\n      }\n\n      return;\n    };\n  }\n\n  onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  }\n\n  setEventListener(setup) {\n    var _this$cleanup2;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(online => {\n      if (typeof online === 'boolean') {\n        this.setOnline(online);\n      } else {\n        this.onOnline();\n      }\n    });\n  }\n\n  setOnline(online) {\n    const changed = this.online !== online;\n\n    if (changed) {\n      this.online = online;\n      this.onOnline();\n    }\n  }\n\n  onOnline() {\n    this.listeners.forEach(({\n      listener\n    }) => {\n      listener();\n    });\n  }\n\n  isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  }\n\n}\nconst onlineManager = new OnlineManager();\n\nexport { OnlineManager, onlineManager };\n//# sourceMappingURL=onlineManager.mjs.map\n","import { focusManager } from './focusManager.mjs';\nimport { onlineManager } from './onlineManager.mjs';\nimport { sleep } from './utils.mjs';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * 2 ** failureCount, 30000);\n}\n\nfunction canFetch(networkMode) {\n  return (networkMode != null ? networkMode : 'online') === 'online' ? onlineManager.isOnline() : true;\n}\nclass CancelledError {\n  constructor(options) {\n    this.revert = options == null ? void 0 : options.revert;\n    this.silent = options == null ? void 0 : options.silent;\n  }\n\n}\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let isResolved = false;\n  let continueFn;\n  let promiseResolve;\n  let promiseReject;\n  const promise = new Promise((outerResolve, outerReject) => {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  const cancel = cancelOptions => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions));\n      config.abort == null ? void 0 : config.abort();\n    }\n  };\n\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n\n  const shouldPause = () => !focusManager.isFocused() || config.networkMode !== 'always' && !onlineManager.isOnline();\n\n  const resolve = value => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  const reject = value => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  const pause = () => {\n    return new Promise(continueResolve => {\n      continueFn = value => {\n        const canContinue = isResolved || !shouldPause();\n\n        if (canContinue) {\n          continueResolve(value);\n        }\n\n        return canContinue;\n      };\n\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(() => {\n      continueFn = undefined;\n\n      if (!isResolved) {\n        config.onContinue == null ? void 0 : config.onContinue();\n      }\n    });\n  }; // Create loop function\n\n\n  const run = () => {\n    // Do nothing if already resolved\n    if (isResolved) {\n      return;\n    }\n\n    let promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n\n    Promise.resolve(promiseOrValue).then(resolve).catch(error => {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      const retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      const retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      const delay = typeof retryDelay === 'function' ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === 'number' && failureCount < retry || typeof retry === 'function' && retry(failureCount, error);\n\n      if (isRetryCancelled || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(() => {\n        if (shouldPause()) {\n          return pause();\n        }\n\n        return;\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  if (canFetch(config.networkMode)) {\n    run();\n  } else {\n    pause().then(run);\n  }\n\n  return {\n    promise,\n    cancel,\n    continue: () => {\n      const didContinue = continueFn == null ? void 0 : continueFn();\n      return didContinue ? promise : Promise.resolve();\n    },\n    cancelRetry,\n    continueRetry\n  };\n}\n\nexport { CancelledError, canFetch, createRetryer, isCancelledError };\n//# sourceMappingURL=retryer.mjs.map\n","const defaultLogger = console;\n\nexport { defaultLogger };\n//# sourceMappingURL=logger.mjs.map\n","import { scheduleMicrotask } from './utils.mjs';\n\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n\n  let notifyFn = callback => {\n    callback();\n  };\n\n  let batchNotifyFn = callback => {\n    callback();\n  };\n\n  const batch = callback => {\n    let result;\n    transactions++;\n\n    try {\n      result = callback();\n    } finally {\n      transactions--;\n\n      if (!transactions) {\n        flush();\n      }\n    }\n\n    return result;\n  };\n\n  const schedule = callback => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleMicrotask(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n\n\n  const batchCalls = callback => {\n    return (...args) => {\n      schedule(() => {\n        callback(...args);\n      });\n    };\n  };\n\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n\n    if (originalQueue.length) {\n      scheduleMicrotask(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach(callback => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n\n\n  const setNotifyFunction = fn => {\n    notifyFn = fn;\n  };\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n\n\n  const setBatchNotifyFunction = fn => {\n    batchNotifyFn = fn;\n  };\n\n  return {\n    batch,\n    batchCalls,\n    schedule,\n    setNotifyFunction,\n    setBatchNotifyFunction\n  };\n} // SINGLETON\n\nconst notifyManager = createNotifyManager();\n\nexport { createNotifyManager, notifyManager };\n//# sourceMappingURL=notifyManager.mjs.map\n","import { isValidTimeout, isServer } from './utils.mjs';\n\nclass Removable {\n  destroy() {\n    this.clearGcTimeout();\n  }\n\n  scheduleGc() {\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.cacheTime);\n    }\n  }\n\n  updateCacheTime(newCacheTime) {\n    // Default to 5 minutes (Infinity for server-side) if no cache time is set\n    this.cacheTime = Math.max(this.cacheTime || 0, newCacheTime != null ? newCacheTime : isServer ? Infinity : 5 * 60 * 1000);\n  }\n\n  clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout);\n      this.gcTimeout = undefined;\n    }\n  }\n\n}\n\nexport { Removable };\n//# sourceMappingURL=removable.mjs.map\n","import { replaceData, noop, timeUntilStale, getAbortController } from './utils.mjs';\nimport { defaultLogger } from './logger.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { createRetryer, isCancelledError, canFetch } from './retryer.mjs';\nimport { Removable } from './removable.mjs';\n\n// CLASS\nclass Query extends Removable {\n  constructor(config) {\n    super();\n    this.abortSignalConsumed = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.logger = config.logger || defaultLogger;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || getDefaultState(this.options);\n    this.state = this.initialState;\n    this.scheduleGc();\n  }\n\n  get meta() {\n    return this.options.meta;\n  }\n\n  setOptions(options) {\n    this.options = { ...this.defaultOptions,\n      ...options\n    };\n    this.updateCacheTime(this.options.cacheTime);\n  }\n\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === 'idle') {\n      this.cache.remove(this);\n    }\n  }\n\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options); // Set data and mark it as cached\n\n    this.dispatch({\n      data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt,\n      manual: options == null ? void 0 : options.manual\n    });\n    return data;\n  }\n\n  setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state,\n      setStateOptions\n    });\n  }\n\n  cancel(options) {\n    var _this$retryer;\n\n    const promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n\n  destroy() {\n    super.destroy();\n    this.cancel({\n      silent: true\n    });\n  }\n\n  reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  }\n\n  isActive() {\n    return this.observers.some(observer => observer.options.enabled !== false);\n  }\n\n  isDisabled() {\n    return this.getObserversCount() > 0 && !this.isActive();\n  }\n\n  isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(observer => observer.getCurrentResult().isStale);\n  }\n\n  isStaleByTime(staleTime = 0) {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n\n  onFocus() {\n    var _this$retryer2;\n\n    const observer = this.observers.find(x => x.shouldFetchOnWindowFocus());\n\n    if (observer) {\n      observer.refetch({\n        cancelRefetch: false\n      });\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  }\n\n  onOnline() {\n    var _this$retryer3;\n\n    const observer = this.observers.find(x => x.shouldFetchOnReconnect());\n\n    if (observer) {\n      observer.refetch({\n        cancelRefetch: false\n      });\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  }\n\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer); // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer\n      });\n    }\n  }\n\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter(x => x !== observer);\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        this.scheduleGc();\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer\n      });\n    }\n  }\n\n  getObserversCount() {\n    return this.observers.length;\n  }\n\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  }\n\n  fetch(options, fetchOptions) {\n    var _this$options$behavio, _context$fetchOptions;\n\n    if (this.state.fetchStatus !== 'idle') {\n      if (this.state.dataUpdatedAt && fetchOptions != null && fetchOptions.cancelRefetch) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        var _this$retryer4;\n\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\n\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      const observer = this.observers.find(x => x.options.queryFn);\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    if (!Array.isArray(this.options.queryKey)) {\n      if (process.env.NODE_ENV !== 'production') {\n        this.logger.error(\"As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']\");\n      }\n    }\n\n    const abortController = getAbortController(); // Create query function context\n\n    const queryFnContext = {\n      queryKey: this.queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    }; // Adds an enumerable signal property to the object that\n    // which sets abortSignalConsumed to true when the signal\n    // is read.\n\n    const addSignalProperty = object => {\n      Object.defineProperty(object, 'signal', {\n        enumerable: true,\n        get: () => {\n          if (abortController) {\n            this.abortSignalConsumed = true;\n            return abortController.signal;\n          }\n\n          return undefined;\n        }\n      });\n    };\n\n    addSignalProperty(queryFnContext); // Create fetch function\n\n    const fetchFn = () => {\n      if (!this.options.queryFn) {\n        return Promise.reject(\"Missing queryFn for queryKey '\" + this.options.queryHash + \"'\");\n      }\n\n      this.abortSignalConsumed = false;\n      return this.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    const context = {\n      fetchOptions,\n      options: this.options,\n      queryKey: this.queryKey,\n      state: this.state,\n      fetchFn\n    };\n    addSignalProperty(context);\n    (_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch(context); // Store state in case the current fetch needs to be reverted\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (this.state.fetchStatus === 'idle' || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    }\n\n    const onError = error => {\n      // Optimistically update state if needed\n      if (!(isCancelledError(error) && error.silent)) {\n        this.dispatch({\n          type: 'error',\n          error: error\n        });\n      }\n\n      if (!isCancelledError(error)) {\n        var _this$cache$config$on, _this$cache$config, _this$cache$config$on2, _this$cache$config2;\n\n        // Notify cache callback\n        (_this$cache$config$on = (_this$cache$config = this.cache.config).onError) == null ? void 0 : _this$cache$config$on.call(_this$cache$config, error, this);\n        (_this$cache$config$on2 = (_this$cache$config2 = this.cache.config).onSettled) == null ? void 0 : _this$cache$config$on2.call(_this$cache$config2, this.state.data, error, this);\n\n        if (process.env.NODE_ENV !== 'production') {\n          this.logger.error(error);\n        }\n      }\n\n      if (!this.isFetchingOptimistic) {\n        // Schedule query gc after fetching\n        this.scheduleGc();\n      }\n\n      this.isFetchingOptimistic = false;\n    }; // Try to fetch the data\n\n\n    this.retryer = createRetryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : abortController.abort.bind(abortController),\n      onSuccess: data => {\n        var _this$cache$config$on3, _this$cache$config3, _this$cache$config$on4, _this$cache$config4;\n\n        if (typeof data === 'undefined') {\n          if (process.env.NODE_ENV !== 'production') {\n            this.logger.error(\"Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: \" + this.queryHash);\n          }\n\n          onError(new Error(this.queryHash + \" data is undefined\"));\n          return;\n        }\n\n        this.setData(data); // Notify cache callback\n\n        (_this$cache$config$on3 = (_this$cache$config3 = this.cache.config).onSuccess) == null ? void 0 : _this$cache$config$on3.call(_this$cache$config3, data, this);\n        (_this$cache$config$on4 = (_this$cache$config4 = this.cache.config).onSettled) == null ? void 0 : _this$cache$config$on4.call(_this$cache$config4, data, this.state.error, this);\n\n        if (!this.isFetchingOptimistic) {\n          // Schedule query gc after fetching\n          this.scheduleGc();\n        }\n\n        this.isFetchingOptimistic = false;\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.dispatch({\n          type: 'failed',\n          failureCount,\n          error\n        });\n      },\n      onPause: () => {\n        this.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: () => {\n        this.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  }\n\n  dispatch(action) {\n    const reducer = state => {\n      var _action$meta, _action$dataUpdatedAt;\n\n      switch (action.type) {\n        case 'failed':\n          return { ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n\n        case 'pause':\n          return { ...state,\n            fetchStatus: 'paused'\n          };\n\n        case 'continue':\n          return { ...state,\n            fetchStatus: 'fetching'\n          };\n\n        case 'fetch':\n          return { ...state,\n            fetchFailureCount: 0,\n            fetchFailureReason: null,\n            fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n            fetchStatus: canFetch(this.options.networkMode) ? 'fetching' : 'paused',\n            ...(!state.dataUpdatedAt && {\n              error: null,\n              status: 'loading'\n            })\n          };\n\n        case 'success':\n          return { ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: 'success',\n            ...(!action.manual && {\n              fetchStatus: 'idle',\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            })\n          };\n\n        case 'error':\n          const error = action.error;\n\n          if (isCancelledError(error) && error.revert && this.revertState) {\n            return { ...this.revertState\n            };\n          }\n\n          return { ...state,\n            error: error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: 'idle',\n            status: 'error'\n          };\n\n        case 'invalidate':\n          return { ...state,\n            isInvalidated: true\n          };\n\n        case 'setState':\n          return { ...state,\n            ...action.state\n          };\n      }\n    };\n\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach(observer => {\n        observer.onQueryUpdate(action);\n      });\n      this.cache.notify({\n        query: this,\n        type: 'updated',\n        action\n      });\n    });\n  }\n\n}\n\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n  const hasData = typeof data !== 'undefined';\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? 'success' : 'loading',\n    fetchStatus: 'idle'\n  };\n}\n\nexport { Query };\n//# sourceMappingURL=query.mjs.map\n","import { hashQueryKeyByOptions, parseFilterArgs, matchQuery } from './utils.mjs';\nimport { Query } from './query.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\n\n// CLASS\nclass QueryCache extends Subscribable {\n  constructor(config) {\n    super();\n    this.config = config || {};\n    this.queries = [];\n    this.queriesMap = {};\n  }\n\n  build(client, options, state) {\n    var _options$queryHash;\n\n    const queryKey = options.queryKey;\n    const queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        logger: client.getLogger(),\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n\n    return query;\n  }\n\n  add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'added',\n        query\n      });\n    }\n  }\n\n  remove(query) {\n    const queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(x => x !== query);\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'removed',\n        query\n      });\n    }\n  }\n\n  clear() {\n    notifyManager.batch(() => {\n      this.queries.forEach(query => {\n        this.remove(query);\n      });\n    });\n  }\n\n  get(queryHash) {\n    return this.queriesMap[queryHash];\n  }\n\n  getAll() {\n    return this.queries;\n  }\n\n  find(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(query => matchQuery(filters, query));\n  }\n\n  findAll(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n    return Object.keys(filters).length > 0 ? this.queries.filter(query => matchQuery(filters, query)) : this.queries;\n  }\n\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({\n        listener\n      }) => {\n        listener(event);\n      });\n    });\n  }\n\n  onFocus() {\n    notifyManager.batch(() => {\n      this.queries.forEach(query => {\n        query.onFocus();\n      });\n    });\n  }\n\n  onOnline() {\n    notifyManager.batch(() => {\n      this.queries.forEach(query => {\n        query.onOnline();\n      });\n    });\n  }\n\n}\n\nexport { QueryCache };\n//# sourceMappingURL=queryCache.mjs.map\n","import { defaultLogger } from './logger.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { Removable } from './removable.mjs';\nimport { createRetryer, canFetch } from './retryer.mjs';\n\n// CLASS\nclass Mutation extends Removable {\n  constructor(config) {\n    super();\n    this.defaultOptions = config.defaultOptions;\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.logger = config.logger || defaultLogger;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n\n  setOptions(options) {\n    this.options = { ...this.defaultOptions,\n      ...options\n    };\n    this.updateCacheTime(this.options.cacheTime);\n  }\n\n  get meta() {\n    return this.options.meta;\n  }\n\n  setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state\n    });\n  }\n\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer); // Stop the mutation from being garbage collected\n\n      this.clearGcTimeout();\n      this.mutationCache.notify({\n        type: 'observerAdded',\n        mutation: this,\n        observer\n      });\n    }\n  }\n\n  removeObserver(observer) {\n    this.observers = this.observers.filter(x => x !== observer);\n    this.scheduleGc();\n    this.mutationCache.notify({\n      type: 'observerRemoved',\n      mutation: this,\n      observer\n    });\n  }\n\n  optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.status === 'loading') {\n        this.scheduleGc();\n      } else {\n        this.mutationCache.remove(this);\n      }\n    }\n  }\n\n  continue() {\n    var _this$retryer$continu, _this$retryer;\n\n    return (_this$retryer$continu = (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.continue()) != null ? _this$retryer$continu : this.execute();\n  }\n\n  async execute() {\n    const executeMutation = () => {\n      var _this$options$retry;\n\n      this.retryer = createRetryer({\n        fn: () => {\n          if (!this.options.mutationFn) {\n            return Promise.reject('No mutationFn found');\n          }\n\n          return this.options.mutationFn(this.state.variables);\n        },\n        onFail: (failureCount, error) => {\n          this.dispatch({\n            type: 'failed',\n            failureCount,\n            error\n          });\n        },\n        onPause: () => {\n          this.dispatch({\n            type: 'pause'\n          });\n        },\n        onContinue: () => {\n          this.dispatch({\n            type: 'continue'\n          });\n        },\n        retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n        retryDelay: this.options.retryDelay,\n        networkMode: this.options.networkMode\n      });\n      return this.retryer.promise;\n    };\n\n    const restored = this.state.status === 'loading';\n\n    try {\n      var _this$mutationCache$c3, _this$mutationCache$c4, _this$options$onSucce, _this$options2, _this$mutationCache$c5, _this$mutationCache$c6, _this$options$onSettl, _this$options3;\n\n      if (!restored) {\n        var _this$mutationCache$c, _this$mutationCache$c2, _this$options$onMutat, _this$options;\n\n        this.dispatch({\n          type: 'loading',\n          variables: this.options.variables\n        }); // Notify cache callback\n\n        await ((_this$mutationCache$c = (_this$mutationCache$c2 = this.mutationCache.config).onMutate) == null ? void 0 : _this$mutationCache$c.call(_this$mutationCache$c2, this.state.variables, this));\n        const context = await ((_this$options$onMutat = (_this$options = this.options).onMutate) == null ? void 0 : _this$options$onMutat.call(_this$options, this.state.variables));\n\n        if (context !== this.state.context) {\n          this.dispatch({\n            type: 'loading',\n            context,\n            variables: this.state.variables\n          });\n        }\n      }\n\n      const data = await executeMutation(); // Notify cache callback\n\n      await ((_this$mutationCache$c3 = (_this$mutationCache$c4 = this.mutationCache.config).onSuccess) == null ? void 0 : _this$mutationCache$c3.call(_this$mutationCache$c4, data, this.state.variables, this.state.context, this));\n      await ((_this$options$onSucce = (_this$options2 = this.options).onSuccess) == null ? void 0 : _this$options$onSucce.call(_this$options2, data, this.state.variables, this.state.context)); // Notify cache callback\n\n      await ((_this$mutationCache$c5 = (_this$mutationCache$c6 = this.mutationCache.config).onSettled) == null ? void 0 : _this$mutationCache$c5.call(_this$mutationCache$c6, data, null, this.state.variables, this.state.context, this));\n      await ((_this$options$onSettl = (_this$options3 = this.options).onSettled) == null ? void 0 : _this$options$onSettl.call(_this$options3, data, null, this.state.variables, this.state.context));\n      this.dispatch({\n        type: 'success',\n        data\n      });\n      return data;\n    } catch (error) {\n      try {\n        var _this$mutationCache$c7, _this$mutationCache$c8, _this$options$onError, _this$options4, _this$mutationCache$c9, _this$mutationCache$c10, _this$options$onSettl2, _this$options5;\n\n        // Notify cache callback\n        await ((_this$mutationCache$c7 = (_this$mutationCache$c8 = this.mutationCache.config).onError) == null ? void 0 : _this$mutationCache$c7.call(_this$mutationCache$c8, error, this.state.variables, this.state.context, this));\n\n        if (process.env.NODE_ENV !== 'production') {\n          this.logger.error(error);\n        }\n\n        await ((_this$options$onError = (_this$options4 = this.options).onError) == null ? void 0 : _this$options$onError.call(_this$options4, error, this.state.variables, this.state.context)); // Notify cache callback\n\n        await ((_this$mutationCache$c9 = (_this$mutationCache$c10 = this.mutationCache.config).onSettled) == null ? void 0 : _this$mutationCache$c9.call(_this$mutationCache$c10, undefined, error, this.state.variables, this.state.context, this));\n        await ((_this$options$onSettl2 = (_this$options5 = this.options).onSettled) == null ? void 0 : _this$options$onSettl2.call(_this$options5, undefined, error, this.state.variables, this.state.context));\n        throw error;\n      } finally {\n        this.dispatch({\n          type: 'error',\n          error: error\n        });\n      }\n    }\n  }\n\n  dispatch(action) {\n    const reducer = state => {\n      switch (action.type) {\n        case 'failed':\n          return { ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n\n        case 'pause':\n          return { ...state,\n            isPaused: true\n          };\n\n        case 'continue':\n          return { ...state,\n            isPaused: false\n          };\n\n        case 'loading':\n          return { ...state,\n            context: action.context,\n            data: undefined,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: !canFetch(this.options.networkMode),\n            status: 'loading',\n            variables: action.variables\n          };\n\n        case 'success':\n          return { ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: 'success',\n            isPaused: false\n          };\n\n        case 'error':\n          return { ...state,\n            data: undefined,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: 'error'\n          };\n\n        case 'setState':\n          return { ...state,\n            ...action.state\n          };\n      }\n    };\n\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach(observer => {\n        observer.onMutationUpdate(action);\n      });\n      this.mutationCache.notify({\n        mutation: this,\n        type: 'updated',\n        action\n      });\n    });\n  }\n\n}\nfunction getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nexport { Mutation, getDefaultState };\n//# sourceMappingURL=mutation.mjs.map\n","import { notifyManager } from './notifyManager.mjs';\nimport { Mutation } from './mutation.mjs';\nimport { matchMutation, noop } from './utils.mjs';\nimport { Subscribable } from './subscribable.mjs';\n\n// CLASS\nclass MutationCache extends Subscribable {\n  constructor(config) {\n    super();\n    this.config = config || {};\n    this.mutations = [];\n    this.mutationId = 0;\n  }\n\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      logger: client.getLogger(),\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined\n    });\n    this.add(mutation);\n    return mutation;\n  }\n\n  add(mutation) {\n    this.mutations.push(mutation);\n    this.notify({\n      type: 'added',\n      mutation\n    });\n  }\n\n  remove(mutation) {\n    this.mutations = this.mutations.filter(x => x !== mutation);\n    this.notify({\n      type: 'removed',\n      mutation\n    });\n  }\n\n  clear() {\n    notifyManager.batch(() => {\n      this.mutations.forEach(mutation => {\n        this.remove(mutation);\n      });\n    });\n  }\n\n  getAll() {\n    return this.mutations;\n  }\n\n  find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(mutation => matchMutation(filters, mutation));\n  }\n\n  findAll(filters) {\n    return this.mutations.filter(mutation => matchMutation(filters, mutation));\n  }\n\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({\n        listener\n      }) => {\n        listener(event);\n      });\n    });\n  }\n\n  resumePausedMutations() {\n    var _this$resuming;\n\n    this.resuming = ((_this$resuming = this.resuming) != null ? _this$resuming : Promise.resolve()).then(() => {\n      const pausedMutations = this.mutations.filter(x => x.state.isPaused);\n      return notifyManager.batch(() => pausedMutations.reduce((promise, mutation) => promise.then(() => mutation.continue().catch(noop)), Promise.resolve()));\n    }).then(() => {\n      this.resuming = undefined;\n    });\n    return this.resuming;\n  }\n\n}\n\nexport { MutationCache };\n//# sourceMappingURL=mutationCache.mjs.map\n","function infiniteQueryBehavior() {\n  return {\n    onFetch: context => {\n      context.fetchFn = () => {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        const refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        const fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        const pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        const isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        const isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        const oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        const oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        let newPageParams = oldPageParams;\n        let cancelled = false;\n\n        const addSignalProperty = object => {\n          Object.defineProperty(object, 'signal', {\n            enumerable: true,\n            get: () => {\n              var _context$signal;\n\n              if ((_context$signal = context.signal) != null && _context$signal.aborted) {\n                cancelled = true;\n              } else {\n                var _context$signal2;\n\n                (_context$signal2 = context.signal) == null ? void 0 : _context$signal2.addEventListener('abort', () => {\n                  cancelled = true;\n                });\n              }\n\n              return context.signal;\n            }\n          });\n        }; // Get query function\n\n\n        const queryFn = context.options.queryFn || (() => Promise.reject(\"Missing queryFn for queryKey '\" + context.options.queryHash + \"'\"));\n\n        const buildNewPages = (pages, param, page, previous) => {\n          newPageParams = previous ? [param, ...newPageParams] : [...newPageParams, param];\n          return previous ? [page, ...pages] : [...pages, page];\n        }; // Create function to fetch a page\n\n\n        const fetchPage = (pages, manual, param, previous) => {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          const queryFnContext = {\n            queryKey: context.queryKey,\n            pageParam: param,\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const queryFnResult = queryFn(queryFnContext);\n          const promise = Promise.resolve(queryFnResult).then(page => buildNewPages(pages, param, page, previous));\n          return promise;\n        };\n\n        let promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n          const manual = typeof pageParam !== 'undefined';\n          const param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n          promise = fetchPage(oldPages, manual, param);\n        } // Fetch previous page?\n        else if (isFetchingPreviousPage) {\n          const manual = typeof pageParam !== 'undefined';\n          const param = manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n          promise = fetchPage(oldPages, manual, param, true);\n        } // Refetch pages\n        else {\n          newPageParams = [];\n          const manual = typeof context.options.getNextPageParam === 'undefined';\n          const shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n          promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n          for (let i = 1; i < oldPages.length; i++) {\n            promise = promise.then(pages => {\n              const shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n              if (shouldFetchNextPage) {\n                const param = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n                return fetchPage(pages, manual, param);\n              }\n\n              return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n            });\n          }\n        }\n\n        const finalPromise = promise.then(pages => ({\n          pages,\n          pageParams: newPageParams\n        }));\n        return finalPromise;\n      };\n    }\n  };\n}\nfunction getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nfunction getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nfunction hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    const nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n\n  return;\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nfunction hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    const previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n\n  return;\n}\n\nexport { getNextPageParam, getPreviousPageParam, hasNextPage, hasPreviousPage, infiniteQueryBehavior };\n//# sourceMappingURL=infiniteQueryBehavior.mjs.map\n","import { parseFilterArgs, parseQueryArgs, functionalUpdate, noop, hashQueryKey, partialMatchKey, hashQueryKeyByOptions } from './utils.mjs';\nimport { QueryCache } from './queryCache.mjs';\nimport { MutationCache } from './mutationCache.mjs';\nimport { focusManager } from './focusManager.mjs';\nimport { onlineManager } from './onlineManager.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior.mjs';\nimport { defaultLogger } from './logger.mjs';\n\n// CLASS\nclass QueryClient {\n  constructor(config = {}) {\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.logger = config.logger || defaultLogger;\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n    this.mountCount = 0;\n\n    if (process.env.NODE_ENV !== 'production' && config.logger) {\n      this.logger.error(\"Passing a custom logger has been deprecated and will be removed in the next major version.\");\n    }\n  }\n\n  mount() {\n    this.mountCount++;\n    if (this.mountCount !== 1) return;\n    this.unsubscribeFocus = focusManager.subscribe(() => {\n      if (focusManager.isFocused()) {\n        this.resumePausedMutations();\n        this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(() => {\n      if (onlineManager.isOnline()) {\n        this.resumePausedMutations();\n        this.queryCache.onOnline();\n      }\n    });\n  }\n\n  unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    this.mountCount--;\n    if (this.mountCount !== 0) return;\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    this.unsubscribeFocus = undefined;\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n    this.unsubscribeOnline = undefined;\n  }\n\n  isFetching(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n    filters.fetchStatus = 'fetching';\n    return this.queryCache.findAll(filters).length;\n  }\n\n  isMutating(filters) {\n    return this.mutationCache.findAll({ ...filters,\n      fetching: true\n    }).length;\n  }\n\n  getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  }\n\n  ensureQueryData(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    const cachedData = this.getQueryData(parsedOptions.queryKey);\n    return cachedData ? Promise.resolve(cachedData) : this.fetchQuery(parsedOptions);\n  }\n\n  getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(({\n      queryKey,\n      state\n    }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n\n  setQueryData(queryKey, updater, options) {\n    const query = this.queryCache.find(queryKey);\n    const prevData = query == null ? void 0 : query.state.data;\n    const data = functionalUpdate(updater, prevData);\n\n    if (typeof data === 'undefined') {\n      return undefined;\n    }\n\n    const parsedOptions = parseQueryArgs(queryKey);\n    const defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(data, { ...options,\n      manual: true\n    });\n  }\n\n  setQueriesData(queryKeyOrFilters, updater, options) {\n    return notifyManager.batch(() => this.getQueryCache().findAll(queryKeyOrFilters).map(({\n      queryKey\n    }) => [queryKey, this.setQueryData(queryKey, updater, options)]));\n  }\n\n  getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  }\n\n  removeQueries(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n    const queryCache = this.queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach(query => {\n        queryCache.remove(query);\n      });\n    });\n  }\n\n  resetQueries(arg1, arg2, arg3) {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3);\n    const queryCache = this.queryCache;\n    const refetchFilters = {\n      type: 'active',\n      ...filters\n    };\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach(query => {\n        query.reset();\n      });\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n\n  cancelQueries(arg1, arg2, arg3) {\n    const [filters, cancelOptions = {}] = parseFilterArgs(arg1, arg2, arg3);\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    const promises = notifyManager.batch(() => this.queryCache.findAll(filters).map(query => query.cancel(cancelOptions)));\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n\n  invalidateQueries(arg1, arg2, arg3) {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3);\n    return notifyManager.batch(() => {\n      var _ref, _filters$refetchType;\n\n      this.queryCache.findAll(filters).forEach(query => {\n        query.invalidate();\n      });\n\n      if (filters.refetchType === 'none') {\n        return Promise.resolve();\n      }\n\n      const refetchFilters = { ...filters,\n        type: (_ref = (_filters$refetchType = filters.refetchType) != null ? _filters$refetchType : filters.type) != null ? _ref : 'active'\n      };\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n\n  refetchQueries(arg1, arg2, arg3) {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3);\n    const promises = notifyManager.batch(() => this.queryCache.findAll(filters).filter(query => !query.isDisabled()).map(query => {\n      var _options$cancelRefetc;\n\n      return query.fetch(undefined, { ...options,\n        cancelRefetch: (_options$cancelRefetc = options == null ? void 0 : options.cancelRefetch) != null ? _options$cancelRefetc : true,\n        meta: {\n          refetchPage: filters.refetchPage\n        }\n      });\n    }));\n    let promise = Promise.all(promises).then(noop);\n\n    if (!(options != null && options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  }\n\n  fetchQuery(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    const defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    const query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n\n  prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  }\n\n  fetchInfiniteQuery(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  }\n\n  prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  }\n\n  resumePausedMutations() {\n    return this.mutationCache.resumePausedMutations();\n  }\n\n  getQueryCache() {\n    return this.queryCache;\n  }\n\n  getMutationCache() {\n    return this.mutationCache;\n  }\n\n  getLogger() {\n    return this.logger;\n  }\n\n  getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  setDefaultOptions(options) {\n    this.defaultOptions = options;\n  }\n\n  setQueryDefaults(queryKey, options) {\n    const result = this.queryDefaults.find(x => hashQueryKey(queryKey) === hashQueryKey(x.queryKey));\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey,\n        defaultOptions: options\n      });\n    }\n  }\n\n  getQueryDefaults(queryKey) {\n    if (!queryKey) {\n      return undefined;\n    } // Get the first matching defaults\n\n\n    const firstMatchingDefaults = this.queryDefaults.find(x => partialMatchKey(queryKey, x.queryKey)); // Additional checks and error in dev mode\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Retrieve all matching defaults for the given key\n      const matchingDefaults = this.queryDefaults.filter(x => partialMatchKey(queryKey, x.queryKey)); // It is ok not having defaults, but it is error prone to have more than 1 default for a given key\n\n      if (matchingDefaults.length > 1) {\n        this.logger.error(\"[QueryClient] Several query defaults match with key '\" + JSON.stringify(queryKey) + \"'. The first matching query defaults are used. Please check how query defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetquerydefaults.\");\n      }\n    }\n\n    return firstMatchingDefaults == null ? void 0 : firstMatchingDefaults.defaultOptions;\n  }\n\n  setMutationDefaults(mutationKey, options) {\n    const result = this.mutationDefaults.find(x => hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey));\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey,\n        defaultOptions: options\n      });\n    }\n  }\n\n  getMutationDefaults(mutationKey) {\n    if (!mutationKey) {\n      return undefined;\n    } // Get the first matching defaults\n\n\n    const firstMatchingDefaults = this.mutationDefaults.find(x => partialMatchKey(mutationKey, x.mutationKey)); // Additional checks and error in dev mode\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Retrieve all matching defaults for the given key\n      const matchingDefaults = this.mutationDefaults.filter(x => partialMatchKey(mutationKey, x.mutationKey)); // It is ok not having defaults, but it is error prone to have more than 1 default for a given key\n\n      if (matchingDefaults.length > 1) {\n        this.logger.error(\"[QueryClient] Several mutation defaults match with key '\" + JSON.stringify(mutationKey) + \"'. The first matching mutation defaults are used. Please check how mutation defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetmutationdefaults.\");\n      }\n    }\n\n    return firstMatchingDefaults == null ? void 0 : firstMatchingDefaults.defaultOptions;\n  }\n\n  defaultQueryOptions(options) {\n    if (options != null && options._defaulted) {\n      return options;\n    }\n\n    const defaultedOptions = { ...this.defaultOptions.queries,\n      ...this.getQueryDefaults(options == null ? void 0 : options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    } // dependent default values\n\n\n    if (typeof defaultedOptions.refetchOnReconnect === 'undefined') {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== 'always';\n    }\n\n    if (typeof defaultedOptions.useErrorBoundary === 'undefined') {\n      defaultedOptions.useErrorBoundary = !!defaultedOptions.suspense;\n    }\n\n    return defaultedOptions;\n  }\n\n  defaultMutationOptions(options) {\n    if (options != null && options._defaulted) {\n      return options;\n    }\n\n    return { ...this.defaultOptions.mutations,\n      ...this.getMutationDefaults(options == null ? void 0 : options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n\n  clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  }\n\n}\n\nexport { QueryClient };\n//# sourceMappingURL=queryClient.mjs.map\n","import { shallowEqualObjects, noop, isServer, isValidTimeout, timeUntilStale, replaceData } from './utils.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { focusManager } from './focusManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\nimport { canFetch, isCancelledError } from './retryer.mjs';\n\nclass QueryObserver extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.client = client;\n    this.options = options;\n    this.trackedProps = new Set();\n    this.selectError = null;\n    this.bindMethods();\n    this.setOptions(options);\n  }\n\n  bindMethods() {\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n  }\n\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.currentQuery.addObserver(this);\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch();\n      }\n\n      this.updateTimers();\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.destroy();\n    }\n  }\n\n  shouldFetchOnReconnect() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);\n  }\n\n  shouldFetchOnWindowFocus() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);\n  }\n\n  destroy() {\n    this.listeners = new Set();\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n    this.currentQuery.removeObserver(this);\n  }\n\n  setOptions(options, notifyOptions) {\n    const prevOptions = this.options;\n    const prevQuery = this.currentQuery;\n    this.options = this.client.defaultQueryOptions(options);\n\n    if (process.env.NODE_ENV !== 'production' && typeof (options == null ? void 0 : options.isDataEqual) !== 'undefined') {\n      this.client.getLogger().error(\"The isDataEqual option has been deprecated and will be removed in the next major version. You can achieve the same functionality by passing a function as the structuralSharing option\");\n    }\n\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getQueryCache().notify({\n        type: 'observerOptionsUpdated',\n        query: this.currentQuery,\n        observer: this\n      });\n    }\n\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\n      throw new Error('Expected enabled to be a boolean');\n    } // Keep previous query key if the user does not supply one\n\n\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey;\n    }\n\n    this.updateQuery();\n    const mounted = this.hasListeners(); // Fetch if there are subscribers\n\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\n      this.executeFetch();\n    } // Update result\n\n\n    this.updateResult(notifyOptions); // Update stale interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.updateStaleTimeout();\n    }\n\n    const nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\n      this.updateRefetchInterval(nextRefetchInterval);\n    }\n  }\n\n  getOptimisticResult(options) {\n    const query = this.client.getQueryCache().build(this.client, options);\n    const result = this.createResult(query, options);\n\n    if (shouldAssignObserverCurrentProperties(this, result, options)) {\n      // this assigns the optimistic result to the current Observer\n      // because if the query function changes, useQuery will be performing\n      // an effect where it would fetch again.\n      // When the fetch finishes, we perform a deep data cloning in order\n      // to reuse objects references. This deep data clone is performed against\n      // the `observer.currentResult.data` property\n      // When QueryKey changes, we refresh the query and get new `optimistic`\n      // result, while we leave the `observer.currentResult`, so when new data\n      // arrives, it finds the old `observer.currentResult` which is related\n      // to the old QueryKey. Which means that currentResult and selectData are\n      // out of sync already.\n      // To solve this, we move the cursor of the currentResult everytime\n      // an observer reads an optimistic value.\n      // When keeping the previous data, the result doesn't change until new\n      // data arrives.\n      this.currentResult = result;\n      this.currentResultOptions = this.options;\n      this.currentResultState = this.currentQuery.state;\n    }\n\n    return result;\n  }\n\n  getCurrentResult() {\n    return this.currentResult;\n  }\n\n  trackResult(result) {\n    const trackedResult = {};\n    Object.keys(result).forEach(key => {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          this.trackedProps.add(key);\n          return result[key];\n        }\n      });\n    });\n    return trackedResult;\n  }\n\n  getCurrentQuery() {\n    return this.currentQuery;\n  }\n\n  remove() {\n    this.client.getQueryCache().remove(this.currentQuery);\n  }\n\n  refetch({\n    refetchPage,\n    ...options\n  } = {}) {\n    return this.fetch({ ...options,\n      meta: {\n        refetchPage\n      }\n    });\n  }\n\n  fetchOptimistic(options) {\n    const defaultedOptions = this.client.defaultQueryOptions(options);\n    const query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    query.isFetchingOptimistic = true;\n    return query.fetch().then(() => this.createResult(query, defaultedOptions));\n  }\n\n  fetch(fetchOptions) {\n    var _fetchOptions$cancelR;\n\n    return this.executeFetch({ ...fetchOptions,\n      cancelRefetch: (_fetchOptions$cancelR = fetchOptions.cancelRefetch) != null ? _fetchOptions$cancelR : true\n    }).then(() => {\n      this.updateResult();\n      return this.currentResult;\n    });\n  }\n\n  executeFetch(fetchOptions) {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery(); // Fetch\n\n    let promise = this.currentQuery.fetch(this.options, fetchOptions);\n\n    if (!(fetchOptions != null && fetchOptions.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  }\n\n  updateStaleTimeout() {\n    this.clearStaleTimeout();\n\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n\n    const time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n\n    const timeout = time + 1;\n    this.staleTimeoutId = setTimeout(() => {\n      if (!this.currentResult.isStale) {\n        this.updateResult();\n      }\n    }, timeout);\n  }\n\n  computeRefetchInterval() {\n    var _this$options$refetch;\n\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\n  }\n\n  updateRefetchInterval(nextInterval) {\n    this.clearRefetchInterval();\n    this.currentRefetchInterval = nextInterval;\n\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(() => {\n      if (this.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        this.executeFetch();\n      }\n    }, this.currentRefetchInterval);\n  }\n\n  updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval(this.computeRefetchInterval());\n  }\n\n  clearStaleTimeout() {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId);\n      this.staleTimeoutId = undefined;\n    }\n  }\n\n  clearRefetchInterval() {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId);\n      this.refetchIntervalId = undefined;\n    }\n  }\n\n  createResult(query, options) {\n    const prevQuery = this.currentQuery;\n    const prevOptions = this.options;\n    const prevResult = this.currentResult;\n    const prevResultState = this.currentResultState;\n    const prevResultOptions = this.currentResultOptions;\n    const queryChange = query !== prevQuery;\n    const queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\n    const prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\n    const {\n      state\n    } = query;\n    let {\n      dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      fetchStatus,\n      status\n    } = state;\n    let isPreviousData = false;\n    let isPlaceholderData = false;\n    let data; // Optimistically set result in fetching state if needed\n\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners();\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      const fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n\n      if (fetchOnMount || fetchOptionally) {\n        fetchStatus = canFetch(query.options.networkMode) ? 'fetching' : 'paused';\n\n        if (!dataUpdatedAt) {\n          status = 'loading';\n        }\n      }\n\n      if (options._optimisticResults === 'isRestoring') {\n        fetchStatus = 'idle';\n      }\n    } // Keep previous data if needed\n\n\n    if (options.keepPreviousData && !state.dataUpdatedAt && prevQueryResult != null && prevQueryResult.isSuccess && status !== 'error') {\n      data = prevQueryResult.data;\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\n      status = prevQueryResult.status;\n      isPreviousData = true;\n    } // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n      // Memoize select result\n      if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {\n        data = this.selectResult;\n      } else {\n        try {\n          this.selectFn = options.select;\n          data = options.select(state.data);\n          data = replaceData(prevResult == null ? void 0 : prevResult.data, data, options);\n          this.selectResult = data;\n          this.selectError = null;\n        } catch (selectError) {\n          if (process.env.NODE_ENV !== 'production') {\n            this.client.getLogger().error(selectError);\n          }\n\n          this.selectError = selectError;\n        }\n      }\n    } // Use query data\n    else {\n      data = state.data;\n    } // Show placeholder data if needed\n\n\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && status === 'loading') {\n      let placeholderData; // Memoize placeholder data\n\n      if (prevResult != null && prevResult.isPlaceholderData && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\n\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData);\n            this.selectError = null;\n          } catch (selectError) {\n            if (process.env.NODE_ENV !== 'production') {\n              this.client.getLogger().error(selectError);\n            }\n\n            this.selectError = selectError;\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success';\n        data = replaceData(prevResult == null ? void 0 : prevResult.data, placeholderData, options);\n        isPlaceholderData = true;\n      }\n    }\n\n    if (this.selectError) {\n      error = this.selectError;\n      data = this.selectResult;\n      errorUpdatedAt = Date.now();\n      status = 'error';\n    }\n\n    const isFetching = fetchStatus === 'fetching';\n    const isLoading = status === 'loading';\n    const isError = status === 'error';\n    const result = {\n      status,\n      fetchStatus,\n      isLoading,\n      isSuccess: status === 'success',\n      isError,\n      isInitialLoading: isLoading && isFetching,\n      data,\n      dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      failureReason: state.fetchFailureReason,\n      errorUpdateCount: state.errorUpdateCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isLoading,\n      isLoadingError: isError && state.dataUpdatedAt === 0,\n      isPaused: fetchStatus === 'paused',\n      isPlaceholderData,\n      isPreviousData,\n      isRefetchError: isError && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove\n    };\n    return result;\n  }\n\n  updateResult(notifyOptions) {\n    const prevResult = this.currentResult;\n    const nextResult = this.createResult(this.currentQuery, this.options);\n    this.currentResultState = this.currentQuery.state;\n    this.currentResultOptions = this.options; // Only notify and update result if something has changed\n\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return;\n    }\n\n    this.currentResult = nextResult; // Determine which callbacks to trigger\n\n    const defaultNotifyOptions = {\n      cache: true\n    };\n\n    const shouldNotifyListeners = () => {\n      if (!prevResult) {\n        return true;\n      }\n\n      const {\n        notifyOnChangeProps\n      } = this.options;\n\n      if (notifyOnChangeProps === 'all' || !notifyOnChangeProps && !this.trackedProps.size) {\n        return true;\n      }\n\n      const includedProps = new Set(notifyOnChangeProps != null ? notifyOnChangeProps : this.trackedProps);\n\n      if (this.options.useErrorBoundary) {\n        includedProps.add('error');\n      }\n\n      return Object.keys(this.currentResult).some(key => {\n        const typedKey = key;\n        const changed = this.currentResult[typedKey] !== prevResult[typedKey];\n        return changed && includedProps.has(typedKey);\n      });\n    };\n\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && shouldNotifyListeners()) {\n      defaultNotifyOptions.listeners = true;\n    }\n\n    this.notify({ ...defaultNotifyOptions,\n      ...notifyOptions\n    });\n  }\n\n  updateQuery() {\n    const query = this.client.getQueryCache().build(this.client, this.options);\n\n    if (query === this.currentQuery) {\n      return;\n    }\n\n    const prevQuery = this.currentQuery;\n    this.currentQuery = query;\n    this.currentQueryInitialState = query.state;\n    this.previousQueryResult = this.currentResult;\n\n    if (this.hasListeners()) {\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\n      query.addObserver(this);\n    }\n  }\n\n  onQueryUpdate(action) {\n    const notifyOptions = {};\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = !action.manual;\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true;\n    }\n\n    this.updateResult(notifyOptions);\n\n    if (this.hasListeners()) {\n      this.updateTimers();\n    }\n  }\n\n  notify(notifyOptions) {\n    notifyManager.batch(() => {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        var _this$options$onSucce, _this$options, _this$options$onSettl, _this$options2;\n\n        (_this$options$onSucce = (_this$options = this.options).onSuccess) == null ? void 0 : _this$options$onSucce.call(_this$options, this.currentResult.data);\n        (_this$options$onSettl = (_this$options2 = this.options).onSettled) == null ? void 0 : _this$options$onSettl.call(_this$options2, this.currentResult.data, null);\n      } else if (notifyOptions.onError) {\n        var _this$options$onError, _this$options3, _this$options$onSettl2, _this$options4;\n\n        (_this$options$onError = (_this$options3 = this.options).onError) == null ? void 0 : _this$options$onError.call(_this$options3, this.currentResult.error);\n        (_this$options$onSettl2 = (_this$options4 = this.options).onSettled) == null ? void 0 : _this$options$onSettl2.call(_this$options4, undefined, this.currentResult.error);\n      } // Then trigger the listeners\n\n\n      if (notifyOptions.listeners) {\n        this.listeners.forEach(({\n          listener\n        }) => {\n          listener(this.currentResult);\n        });\n      } // Then the cache listeners\n\n\n      if (notifyOptions.cache) {\n        this.client.getQueryCache().notify({\n          query: this.currentQuery,\n          type: 'observerResultsUpdated'\n        });\n      }\n    });\n  }\n\n}\n\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\n}\n\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\n\nfunction shouldFetchOn(query, options, field) {\n  if (options.enabled !== false) {\n    const value = typeof field === 'function' ? field(query) : field;\n    return value === 'always' || value !== false && isStale(query, options);\n  }\n\n  return false;\n}\n\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error') && isStale(query, options);\n}\n\nfunction isStale(query, options) {\n  return query.isStaleByTime(options.staleTime);\n} // this function would decide if we will update the observer's 'current'\n// properties after an optimistic reading via getOptimisticResult\n\n\nfunction shouldAssignObserverCurrentProperties(observer, optimisticResult, options) {\n  // it is important to keep this condition like this for three reasons:\n  // 1. It will get removed in the v5\n  // 2. it reads: don't update the properties if we want to keep the previous\n  // data.\n  // 3. The opposite condition (!options.keepPreviousData) would fallthrough\n  // and will result in a bad decision\n  if (options.keepPreviousData) {\n    return false;\n  } // this means we want to put some placeholder data when pending and queryKey\n  // changed.\n\n\n  if (options.placeholderData !== undefined) {\n    // re-assign properties only if current data is placeholder data\n    // which means that data did not arrive yet, so, if there is some cached data\n    // we need to \"prepare\" to receive it\n    return optimisticResult.isPlaceholderData;\n  } // if the newly created result isn't what the observer is holding as current,\n  // then we'll need to update the properties as well\n\n\n  if (observer.getCurrentResult() !== optimisticResult) {\n    return true;\n  } // basically, just keep previous properties if nothing changed\n\n\n  return false;\n}\n\nexport { QueryObserver };\n//# sourceMappingURL=queryObserver.mjs.map\n","import { getDefaultState } from './mutation.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\nimport { shallowEqualObjects } from './utils.mjs';\n\n// CLASS\nclass MutationObserver extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.updateResult();\n  }\n\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n\n  setOptions(options) {\n    var _this$currentMutation;\n\n    const prevOptions = this.options;\n    this.options = this.client.defaultMutationOptions(options);\n\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getMutationCache().notify({\n        type: 'observerOptionsUpdated',\n        mutation: this.currentMutation,\n        observer: this\n      });\n    }\n\n    (_this$currentMutation = this.currentMutation) == null ? void 0 : _this$currentMutation.setOptions(this.options);\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$currentMutation2;\n\n      (_this$currentMutation2 = this.currentMutation) == null ? void 0 : _this$currentMutation2.removeObserver(this);\n    }\n  }\n\n  onMutationUpdate(action) {\n    this.updateResult(); // Determine which callbacks to trigger\n\n    const notifyOptions = {\n      listeners: true\n    };\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error') {\n      notifyOptions.onError = true;\n    }\n\n    this.notify(notifyOptions);\n  }\n\n  getCurrentResult() {\n    return this.currentResult;\n  }\n\n  reset() {\n    this.currentMutation = undefined;\n    this.updateResult();\n    this.notify({\n      listeners: true\n    });\n  }\n\n  mutate(variables, options) {\n    this.mutateOptions = options;\n\n    if (this.currentMutation) {\n      this.currentMutation.removeObserver(this);\n    }\n\n    this.currentMutation = this.client.getMutationCache().build(this.client, { ...this.options,\n      variables: typeof variables !== 'undefined' ? variables : this.options.variables\n    });\n    this.currentMutation.addObserver(this);\n    return this.currentMutation.execute();\n  }\n\n  updateResult() {\n    const state = this.currentMutation ? this.currentMutation.state : getDefaultState();\n    const result = { ...state,\n      isLoading: state.status === 'loading',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset\n    };\n    this.currentResult = result;\n  }\n\n  notify(options) {\n    notifyManager.batch(() => {\n      // First trigger the mutate callbacks\n      if (this.mutateOptions && this.hasListeners()) {\n        if (options.onSuccess) {\n          var _this$mutateOptions$o, _this$mutateOptions, _this$mutateOptions$o2, _this$mutateOptions2;\n\n          (_this$mutateOptions$o = (_this$mutateOptions = this.mutateOptions).onSuccess) == null ? void 0 : _this$mutateOptions$o.call(_this$mutateOptions, this.currentResult.data, this.currentResult.variables, this.currentResult.context);\n          (_this$mutateOptions$o2 = (_this$mutateOptions2 = this.mutateOptions).onSettled) == null ? void 0 : _this$mutateOptions$o2.call(_this$mutateOptions2, this.currentResult.data, null, this.currentResult.variables, this.currentResult.context);\n        } else if (options.onError) {\n          var _this$mutateOptions$o3, _this$mutateOptions3, _this$mutateOptions$o4, _this$mutateOptions4;\n\n          (_this$mutateOptions$o3 = (_this$mutateOptions3 = this.mutateOptions).onError) == null ? void 0 : _this$mutateOptions$o3.call(_this$mutateOptions3, this.currentResult.error, this.currentResult.variables, this.currentResult.context);\n          (_this$mutateOptions$o4 = (_this$mutateOptions4 = this.mutateOptions).onSettled) == null ? void 0 : _this$mutateOptions$o4.call(_this$mutateOptions4, undefined, this.currentResult.error, this.currentResult.variables, this.currentResult.context);\n        }\n      } // Then trigger the listeners\n\n\n      if (options.listeners) {\n        this.listeners.forEach(({\n          listener\n        }) => {\n          listener(this.currentResult);\n        });\n      }\n    });\n  }\n\n}\n\nexport { MutationObserver };\n//# sourceMappingURL=mutationObserver.mjs.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","\"use client\";\n// Temporary workaround due to an issue with react-native uSES - https://github.com/TanStack/query/pull/3601\nimport { useSyncExternalStore as uSES } from \"use-sync-external-store/shim/index.js\";\nexport const useSyncExternalStore = uSES;\n//# sourceMappingURL=useSyncExternalStore.js.map","\"use client\";\nimport * as React from \"react\";\nimport { useSignalOfState } from \"@preact-signals/utils/hooks\";\nexport const defaultContext = React.createContext(undefined);\n// export const signalContext = React.createContext<\n//   ReadonlySignal<QueryClient> | undefined\n// >(undefined);\nconst QueryClientSharingContext = React.createContext(false);\n// If we are given a context, we will use it.\n// Otherwise, if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\nfunction getQueryClientContext(context, contextSharing) {\n    if (context) {\n        return context;\n    }\n    if (contextSharing && typeof window !== \"undefined\") {\n        if (!window.ReactQueryClientContext) {\n            window.ReactQueryClientContext = defaultContext;\n        }\n        return window.ReactQueryClientContext;\n    }\n    return defaultContext;\n}\nexport const useQueryClient = ({ context } = {}) => {\n    const queryClient = React.useContext(getQueryClientContext(context, React.useContext(QueryClientSharingContext)));\n    if (!queryClient) {\n        throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n    }\n    return queryClient;\n};\nexport const useQueryClient$ = (options) => useSignalOfState(useQueryClient(options));\nexport const QueryClientProvider = ({ client, children, context, contextSharing = false, }) => {\n    React.useEffect(() => {\n        client.mount();\n        return () => {\n            client.unmount();\n        };\n    }, [client]);\n    if (process.env.NODE_ENV !== \"production\" && contextSharing) {\n        client\n            .getLogger()\n            .error(`The contextSharing option has been deprecated and will be removed in the next major version`);\n    }\n    // const $client = useSignalOfState(client);\n    // const $context = useSignalOfState(context);\n    // const $contextSharing = useSignalOfState(contextSharing);\n    const Context = getQueryClientContext(context, contextSharing);\n    return (React.createElement(QueryClientSharingContext.Provider, { value: !context && contextSharing },\n        React.createElement(Context.Provider, { value: client }, children)));\n};\n//# sourceMappingURL=QueryClientProvider.js.map","\"use client\";\nimport { useSignalContext } from \"@preact-signals/utils/hooks\";\nimport * as React from \"react\";\nconst IsRestoringContext = React.createContext(false);\nexport const useIsRestoring$ = () => useSignalContext(IsRestoringContext);\nexport const useIsRestoring = () => React.useContext(IsRestoringContext);\nexport const IsRestoringProvider = IsRestoringContext.Provider;\n//# sourceMappingURL=isRestoring.js.map","\"use client\";\nimport { useSignalContext } from \"@preact-signals/utils/hooks\";\nimport * as React from \"react\";\nfunction createValue() {\n    let isReset = false;\n    return {\n        clearReset: () => {\n            isReset = false;\n        },\n        reset: () => {\n            isReset = true;\n        },\n        isReset: () => {\n            return isReset;\n        },\n    };\n}\nconst QueryErrorResetBoundaryContext = React.createContext(createValue());\n// HOOK\nexport const useQueryErrorResetBoundary$ = () => useSignalContext(QueryErrorResetBoundaryContext);\nexport const useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext);\nexport const QueryErrorResetBoundary = ({ children, }) => {\n    const [value] = React.useState(() => createValue());\n    return (React.createElement(QueryErrorResetBoundaryContext.Provider, { value: value }, typeof children === \"function\"\n        ? children(value)\n        : children));\n};\n//# sourceMappingURL=QueryErrorResetBoundary.js.map","export function shouldThrowError(_useErrorBoundary, params) {\n    // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n    if (typeof _useErrorBoundary === 'function') {\n        return _useErrorBoundary(...params);\n    }\n    return !!_useErrorBoundary;\n}\n//# sourceMappingURL=utils.js.map","\"use client\";\nimport { useSignalEffectOnce, useSignalOfReactive, } from \"@preact-signals/utils/hooks\";\nimport * as React from \"react\";\nimport { shouldThrowError } from \"./utils\";\nexport const ensurePreventErrorBoundaryRetry = (options, errorResetBoundary) => {\n    if (options.suspense || options.useErrorBoundary) {\n        // Prevent retrying failed query if the error boundary has not been reset yet\n        if (!errorResetBoundary.isReset()) {\n            options.retryOnMount = false;\n        }\n    }\n};\nexport const useClearResetErrorBoundary = (errorResetBoundary) => {\n    React.useEffect(() => {\n        errorResetBoundary.clearReset();\n    }, [errorResetBoundary]);\n};\nexport const useClearResetErrorBoundary$ = (errorResetBoundary) => {\n    const $boundary = useSignalOfReactive(errorResetBoundary);\n    useSignalEffectOnce(() => {\n        $boundary.value.clearReset();\n    });\n};\nexport const getHasError = ({ result, errorResetBoundary, useErrorBoundary, query, }) => {\n    return (result.isError &&\n        !errorResetBoundary.isReset() &&\n        !result.isFetching &&\n        shouldThrowError(useErrorBoundary, [result.error, query]));\n};\n//# sourceMappingURL=errorBoundaryUtils.js.map","export const ensureStaleTime = (defaultedOptions) => {\n    if (defaultedOptions.suspense) {\n        // Always set stale time when using suspense to prevent\n        // fetching again when directly mounting after suspending\n        if (typeof defaultedOptions.staleTime !== 'number') {\n            defaultedOptions.staleTime = 1000;\n        }\n    }\n};\nexport const willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nexport const shouldSuspend = (defaultedOptions, result, isRestoring) => defaultedOptions?.suspense && willFetch(result, isRestoring);\nexport const fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer\n    .fetchOptimistic(defaultedOptions)\n    .then(({ data }) => {\n    defaultedOptions.onSuccess?.(data);\n    defaultedOptions.onSettled?.(data, null);\n})\n    .catch((error) => {\n    errorResetBoundary.clearReset();\n    defaultedOptions.onError?.(error);\n    defaultedOptions.onSettled?.(undefined, error);\n});\n//# sourceMappingURL=suspense.js.map","\"use client\";\nimport * as React from \"react\";\nimport { useSyncExternalStore } from \"./useSyncExternalStore\";\nimport { notifyManager } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary\";\nimport { ensurePreventErrorBoundaryRetry, getHasError, useClearResetErrorBoundary, } from \"./errorBoundaryUtils\";\nimport { useIsRestoring } from \"./isRestoring\";\nimport { ensureStaleTime, fetchOptimistic, shouldSuspend } from \"./suspense\";\nexport function useBaseQuery(options, Observer) {\n    const queryClient = useQueryClient({ context: options.context });\n    const isRestoring = useIsRestoring();\n    const errorResetBoundary = useQueryErrorResetBoundary();\n    const defaultedOptions = queryClient.defaultQueryOptions(options);\n    // Make sure results are optimistically set in fetching state before subscribing or updating options\n    defaultedOptions._optimisticResults = isRestoring\n        ? \"isRestoring\"\n        : \"optimistic\";\n    // Include callbacks in batch renders\n    if (defaultedOptions.onError) {\n        defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n    }\n    if (defaultedOptions.onSuccess) {\n        defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n    }\n    if (defaultedOptions.onSettled) {\n        defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n    }\n    ensureStaleTime(defaultedOptions);\n    ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n    useClearResetErrorBoundary(errorResetBoundary);\n    const [observer] = React.useState(() => new Observer(queryClient, defaultedOptions));\n    const result = observer.getOptimisticResult(defaultedOptions);\n    useSyncExternalStore(React.useCallback((onStoreChange) => {\n        const unsubscribe = isRestoring\n            ? () => undefined\n            : observer.subscribe(notifyManager.batchCalls(onStoreChange));\n        // Update result to make sure we did not miss any query updates\n        // between creating the observer and subscribing to it.\n        observer.updateResult();\n        return unsubscribe;\n    }, [observer, isRestoring]), () => observer.getCurrentResult(), () => observer.getCurrentResult());\n    React.useEffect(() => {\n        // Do not notify on updates because of changes in the options because\n        // these changes should already be reflected in the optimistic result.\n        observer.setOptions(defaultedOptions, { listeners: false });\n    }, [defaultedOptions, observer]);\n    // Handle suspense\n    if (shouldSuspend(defaultedOptions, result, isRestoring)) {\n        throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n    }\n    // Handle error boundary\n    if (getHasError({\n        result,\n        errorResetBoundary,\n        useErrorBoundary: defaultedOptions.useErrorBoundary,\n        query: observer.getCurrentQuery(),\n    })) {\n        throw result.error;\n    }\n    // Handle result property usage tracking\n    return !defaultedOptions.notifyOnChangeProps\n        ? observer.trackResult(result)\n        : result;\n}\n//# sourceMappingURL=useBaseQuery.js.map","'use client';\nimport { parseQueryArgs, QueryObserver } from '@tanstack/query-core';\nimport { useBaseQuery } from './useBaseQuery';\nexport function useQuery(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    return useBaseQuery(parsedOptions, QueryObserver);\n}\n//# sourceMappingURL=useQuery.js.map","'use client';\nimport * as React from 'react';\nimport { useSyncExternalStore } from './useSyncExternalStore';\nimport { notifyManager, parseMutationArgs, MutationObserver, } from '@tanstack/query-core';\nimport { useQueryClient } from './QueryClientProvider';\nimport { shouldThrowError } from './utils';\nexport function useMutation(arg1, arg2, arg3) {\n    const options = parseMutationArgs(arg1, arg2, arg3);\n    const queryClient = useQueryClient({ context: options.context });\n    const [observer] = React.useState(() => new MutationObserver(queryClient, options));\n    React.useEffect(() => {\n        observer.setOptions(options);\n    }, [observer, options]);\n    const result = useSyncExternalStore(React.useCallback((onStoreChange) => observer.subscribe(notifyManager.batchCalls(onStoreChange)), [observer]), () => observer.getCurrentResult(), () => observer.getCurrentResult());\n    const mutate = React.useCallback((variables, mutateOptions) => {\n        observer.mutate(variables, mutateOptions).catch(noop);\n    }, [observer]);\n    if (result.error &&\n        shouldThrowError(observer.options.useErrorBoundary, [result.error])) {\n        throw result.error;\n    }\n    return { ...result, mutate, mutateAsync: result.mutate };\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() { }\n//# sourceMappingURL=useMutation.js.map","/**\n * LightNVR Web Interface Fetch Utilities\n * Enhanced fetch API with timeout, cancellation, and retry capabilities\n */\n\n/**\n * Enhanced fetch function with timeout, retries and error handling\n * @param {string} url - URL to fetch\n * @param {Object} options - Fetch options\n * @returns {Promise<Response>} - Fetch response\n */\nexport async function enhancedFetch(url, options = {}) {\n  const {\n    timeout = 30000,\n    retries = 1,\n    retryDelay = 1000,\n    signal: externalSignal,\n    ...fetchOptions\n  } = options;\n\n  // Log the request details\n  console.log(`enhancedFetch: ${fetchOptions.method || 'GET'} ${url}`);\n  console.debug('enhancedFetch options:', {\n    timeout,\n    retries,\n    retryDelay,\n    ...fetchOptions\n  });\n\n  // Create a timeout controller if timeout is specified\n  const timeoutController = new AbortController();\n  let timeoutId;\n\n  if (timeout) {\n    timeoutId = setTimeout(() => {\n      console.warn(`enhancedFetch: Timeout reached for ${url}, aborting request`);\n      timeoutController.abort();\n    }, timeout);\n  }\n\n  // Create a combined signal if an external signal is provided\n  const signal = externalSignal\n    ? combineSignals(externalSignal, timeoutController.signal)\n    : timeoutController.signal;\n\n  // Add the signal to fetch options\n  const optionsWithSignal = {\n    ...fetchOptions,\n    signal\n  };\n\n  let lastError;\n  let attempt = 0;\n\n  while (attempt <= retries) {\n    try {\n      console.debug(`enhancedFetch: Attempt ${attempt + 1}/${retries + 1} for ${url}`);\n      const response = await fetch(url, optionsWithSignal);\n\n      // Clear the timeout\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n\n      // Log the response\n      console.log(`enhancedFetch response: ${response.status} ${response.statusText} for ${url}`);\n\n      // Check if the response is ok\n      if (!response.ok) {\n        throw new Error(`HTTP error ${response.status}: ${response.statusText}`);\n      }\n\n      return response;\n    } catch (error) {\n      lastError = error;\n\n      // Clear the timeout\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n\n      // Log the error\n      console.error(`enhancedFetch error (attempt ${attempt + 1}/${retries + 1}):`, error);\n\n      // If the request was aborted, don't retry\n      if (error.name === 'AbortError') {\n        if (externalSignal && externalSignal.aborted) {\n          console.warn(`enhancedFetch: Request was cancelled by external signal for ${url}`);\n          throw new Error('Request was cancelled');\n        } else {\n          console.warn(`enhancedFetch: Request timed out for ${url}`);\n          throw new Error('Request timed out');\n        }\n      }\n\n      // If this was the last retry, throw the error\n      if (attempt >= retries) {\n        console.error(`enhancedFetch: All ${retries + 1} attempts failed for ${url}`);\n        break;\n      }\n\n      // Wait before retrying\n      console.log(`enhancedFetch: Waiting ${retryDelay}ms before retry ${attempt + 1} for ${url}`);\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n\n      // Reset the timeout for the next attempt\n      if (timeout) {\n        timeoutController.abort(); // Abort the previous timeout\n        const newTimeoutController = new AbortController();\n        timeoutId = setTimeout(() => {\n          newTimeoutController.abort();\n        }, timeout);\n      }\n\n      attempt++;\n    }\n  }\n\n  throw lastError;\n}\n\n/**\n * Combine multiple AbortSignals into one\n * @param {...AbortSignal} signals - Signals to combine\n * @returns {AbortSignal} - Combined signal\n */\nfunction combineSignals(...signals) {\n  const controller = new AbortController();\n  \n  const onAbort = () => {\n    controller.abort();\n    signals.forEach(signal => {\n      signal.removeEventListener('abort', onAbort);\n    });\n  };\n  \n  signals.forEach(signal => {\n    if (signal.aborted) {\n      onAbort();\n    } else {\n      signal.addEventListener('abort', onAbort);\n    }\n  });\n  \n  return controller.signal;\n}\n\n/**\n * Create a request controller for managing fetch requests\n * @returns {Object} - Request controller object\n */\nexport function createRequestController() {\n  const controller = new AbortController();\n  \n  return {\n    signal: controller.signal,\n    abort: () => controller.abort(),\n    isAborted: () => controller.signal.aborted\n  };\n}\n\n/**\n * Fetch JSON data with enhanced fetch\n * @param {string} url - The URL to fetch\n * @param {Object} options - Fetch options\n * @returns {Promise<any>} - Parsed JSON data\n */\nexport async function fetchJSON(url, options = {}) {\n  try {\n    const response = await enhancedFetch(url, options);\n    console.log(`fetchJSON: Parsing JSON response from ${url}`);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(`fetchJSON: Error fetching or parsing JSON from ${url}:`, error);\n    throw error;\n  }\n}","/**\n * LightNVR Web Interface Query Client\n * TanStack Query (Preact Query) integration for Preact\n */\n\n// Import from preact/compat to ensure Preact compatibility\nimport {h, createElement} from 'preact';\nimport { \n  QueryClient, \n  QueryClientProvider,\n  useQuery as originalUseQuery,\n  useMutation as originalUseMutation,\n  useQueryClient as originalUseQueryClient\n} from '@preact-signals/query';\n\nimport { fetchJSON, enhancedFetch, createRequestController } from './fetch-utils.js';\n\n// Export QueryClient class, QueryClientProvider, and fetchJSON\nexport { QueryClient, QueryClientProvider, fetchJSON };\n\n// Create a QueryClient instance\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 30000, // 30 seconds\n      cacheTime: 5 * 60 * 1000, // 5 minutes\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\n// Custom hook to use the QueryClient\nexport function useQueryClient() {\n  return originalUseQueryClient();\n}\n\n/**\n * Custom hook for data fetching with Preact Query\n * @param {string|Object} queryKeyOrOptions - Unique key for the query or options object\n * @param {string} [url] - URL to fetch (only used if first param is a string)\n * @param {Object} [options] - Fetch options (only used if first param is a string)\n * @param {Object} [queryOptions] - Preact Query options (only used if first param is a string)\n * @returns {Object} - Query result\n */\nexport function useQuery(queryKeyOrOptions, url, options = {}, queryOptions = {}) {\n  // Check if the first parameter is an object (old style) or a string/array (new style)\n  if (typeof queryKeyOrOptions === 'object' && !Array.isArray(queryKeyOrOptions) && queryKeyOrOptions !== null) {\n    // Old style: useQuery({ queryKey, queryFn, ...options })\n    return originalUseQuery(queryKeyOrOptions);\n  } else {\n    // New style: useQuery(queryKey, url, options, queryOptions)\n    return originalUseQuery({\n      queryKey: Array.isArray(queryKeyOrOptions) ? queryKeyOrOptions : [queryKeyOrOptions],\n      queryFn: async () => {\n        const controller = createRequestController();\n        const fetchOptions = {\n          ...options,\n          signal: controller.signal\n        };\n        \n        try {\n          return await fetchJSON(url, fetchOptions);\n        } catch (error) {\n          console.error(`useQuery error for ${url}:`, error);\n          throw error;\n        }\n      },\n      ...queryOptions\n    });\n  }\n}\n\n/**\n * Custom hook for mutations with Preact Query\n * @param {Object} options - Mutation options\n * @returns {Object} - Mutation result\n */\nexport function useMutation(options) {\n  return originalUseMutation({\n    ...options\n  });\n}\n\n/**\n * Custom hook for POST mutations\n * @param {string} url - URL to post to\n * @param {Object} options - Fetch options\n * @param {Object} mutationOptions - Preact Query mutation options\n * @returns {Object} - Mutation result\n */\nexport function usePostMutation(url, options = {}, mutationOptions = {}) {\n  return useMutation({\n    mutationFn: async (data) => {\n      const controller = createRequestController();\n      const fetchOptions = {\n        ...options,\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        body: JSON.stringify(data),\n        signal: controller.signal\n      };\n      \n      try {\n        return await fetchJSON(url, fetchOptions);\n      } catch (error) {\n        console.error(`usePostMutation error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...mutationOptions\n  });\n}\n\n/**\n * Custom hook for PUT mutations\n * @param {string} url - URL to put to\n * @param {Object} options - Fetch options\n * @param {Object} mutationOptions - Preact Query mutation options\n * @returns {Object} - Mutation result\n */\nexport function usePutMutation(url, options = {}, mutationOptions = {}) {\n  return useMutation({\n    mutationFn: async (data) => {\n      const controller = createRequestController();\n      const fetchOptions = {\n        ...options,\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        body: JSON.stringify(data),\n        signal: controller.signal\n      };\n      \n      try {\n        return await fetchJSON(url, fetchOptions);\n      } catch (error) {\n        console.error(`usePutMutation error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...mutationOptions\n  });\n}\n\n/**\n * Custom hook for DELETE mutations\n * @param {string} url - URL to delete from\n * @param {Object} options - Fetch options\n * @param {Object} mutationOptions - Preact Query mutation options\n * @returns {Object} - Mutation result\n */\nexport function useDeleteMutation(url, options = {}, mutationOptions = {}) {\n  return useMutation({\n    mutationFn: async (data) => {\n      const controller = createRequestController();\n      const fetchOptions = {\n        ...options,\n        method: 'DELETE',\n        signal: controller.signal,\n        ...(data && {\n          headers: {\n            'Content-Type': 'application/json',\n            ...options.headers\n          },\n          body: JSON.stringify(data)\n        })\n      };\n      \n      try {\n        return await fetchJSON(url, fetchOptions);\n      } catch (error) {\n        console.error(`useDeleteMutation error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...mutationOptions\n  });\n}\n\n/**\n * Invalidate queries by key pattern\n * @param {string|Array} queryKey - Query key or pattern to invalidate\n */\nexport function invalidateQueries(queryKey) {\n  queryClient.invalidateQueries({\n    queryKey: Array.isArray(queryKey) ? queryKey : [queryKey]\n  });\n}\n\n/**\n * Prefetch a query\n * @param {string|Array} queryKey - Query key\n * @param {string} url - URL to fetch\n * @param {Object} options - Fetch options\n * @param {Object} queryOptions - Preact Query options\n */\nexport function prefetchQuery(queryKey, url, options = {}, queryOptions = {}) {\n  queryClient.prefetchQuery({\n    queryKey: Array.isArray(queryKey) ? queryKey : [queryKey],\n    queryFn: async () => {\n      try {\n        return await fetchJSON(url, options);\n      } catch (error) {\n        console.error(`prefetchQuery error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...queryOptions\n  });\n}\n\n/**\n * Set query data directly\n * @param {string|Array} queryKey - Query key\n * @param {any} data - Data to set\n */\nexport function setQueryData(queryKey, data) {\n  queryClient.setQueryData(\n    Array.isArray(queryKey) ? queryKey : [queryKey],\n    data\n  );\n}\n\n/**\n * Get query data directly\n * @param {string|Array} queryKey - Query key\n * @returns {any} - Query data\n */\nexport function getQueryData(queryKey) {\n  return queryClient.getQueryData(\n    Array.isArray(queryKey) ? queryKey : [queryKey]\n  );\n}\n","/**\n * UI utility functions for LiveView\n */\n\n\nimport { html } from '../../html-helper.js';\nimport { useQuery, QueryClientProvider, queryClient } from '../../query-client.js';\n\n/**\n * Set up modals for the application\n */\nexport function setupModals() {\n  // Create snapshot modal container if it doesn't exist\n  let snapshotModalContainer = document.getElementById('snapshot-modal-container');\n  if (!snapshotModalContainer) {\n    snapshotModalContainer = document.createElement('div');\n    snapshotModalContainer.id = 'snapshot-modal-container';\n    document.body.appendChild(snapshotModalContainer);\n  }\n\n  // Create snapshot preview modal\n  const snapshotModal = document.createElement('div');\n  snapshotModal.id = 'snapshot-preview-modal';\n  snapshotModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n\n  snapshotModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0\" style=\"width: 90%;\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"snapshot-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Snapshot</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"></button>\n      </div>\n      <div class=\"p-4 overflow-auto flex-grow\">\n        <img id=\"snapshot-preview-image\" class=\"max-w-full max-h-[70vh] mx-auto\" src=\"\" alt=\"Snapshot\">\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <button id=\"snapshot-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\">Download</button>\n        <button id=\"snapshot-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n\n  snapshotModalContainer.appendChild(snapshotModal);\n\n  // Create video modal container if it doesn't exist\n  let videoModalContainer = document.getElementById('video-modal-container');\n  if (!videoModalContainer) {\n    videoModalContainer = document.createElement('div');\n    videoModalContainer.id = 'video-modal-container';\n    document.body.appendChild(videoModalContainer);\n  }\n\n  // Create video preview modal\n  const videoModal = document.createElement('div');\n  videoModal.id = 'video-preview-modal';\n  videoModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n\n  videoModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0 w-full md:w-[90%]\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"video-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Video</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"></button>\n      </div>\n      <div class=\"p-4 flex-grow\">\n        <video id=\"video-preview-player\" class=\"w-full h-auto max-w-full object-contain mx-auto\" controls autoplay></video>\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <a id=\"video-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\" href=\"#\" download>Download</a>\n        <button id=\"video-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n\n  videoModalContainer.appendChild(videoModal);\n\n  // Set up event listeners for modals\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n      // Close any open modals\n      const modals = document.querySelectorAll('.fixed.inset-0.bg-black.bg-opacity-75');\n      modals.forEach(modal => {\n        if (!modal.classList.contains('hidden')) {\n          modal.classList.add('hidden');\n        }\n      });\n    }\n  });\n}\n\n/**\n * Add status message styles to the document\n */\nexport function addStatusMessageStyles() {\n  // Import the toast module to ensure it's loaded\n  import('./toast.js').then(({ initToastContainer }) => {\n    // Initialize the toast container\n    initToastContainer(false);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n\n    // Fallback to basic styles if toast module fails to load\n    if (document.getElementById('status-message-styles')) {\n      return;\n    }\n\n    // Create style element\n    const style = document.createElement('style');\n    style.id = 'status-message-styles';\n\n    // Add CSS rules\n    style.textContent = `\n      #status-message-container {\n        position: fixed;\n        top: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      .status-message {\n        background-color: #1f2937;\n        color: white;\n        padding: 0.5rem 1rem;\n        border-radius: 0.375rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        margin-bottom: 0.5rem;\n        transition: all 0.3s ease;\n        opacity: 0;\n        transform: translateY(-0.5rem);\n      }\n\n      .status-message.show {\n        opacity: 1;\n        transform: translateY(0);\n      }\n\n      .status-message.success {\n        background-color: #10b981;\n      }\n\n      .status-message.error {\n        background-color: #ef4444;\n      }\n\n      .status-message.warning {\n        background-color: #f59e0b;\n      }\n\n      .status-message.info {\n        background-color: #3b82f6;\n      }\n    `;\n\n    // Add to document head\n    document.head.appendChild(style);\n  });\n}\n\n/**\n * Add modal styles to the document\n */\nexport function addModalStyles() {\n  // Check if styles already exist\n  if (document.getElementById('modal-styles')) {\n    return;\n  }\n\n  // Create style element\n  const style = document.createElement('style');\n  style.id = 'modal-styles';\n\n  // Add CSS rules\n  style.textContent = `\n    .modal-content {\n      transition: all 0.3s ease-out;\n    }\n\n    .modal-content.scale-95 {\n      transform: scale(0.95);\n      opacity: 0;\n    }\n\n    .modal-content.scale-100 {\n      transform: scale(1);\n      opacity: 1;\n    }\n  `;\n\n  // Add to document head\n  document.head.appendChild(style);\n}\n\n/**\n * DeleteConfirmationModal component for Preact\n * This is the declarative version for use with Preact JSX\n * @param {Object} props - Component props\n * @param {boolean} props.isOpen - Whether the modal is open\n * @param {Function} props.onClose - Function to call when the modal is closed\n * @param {Function} props.onConfirm - Function to call when delete is confirmed\n * @param {string} props.mode - Delete mode ('selected' or 'all')\n * @param {number} props.count - Number of items selected (for 'selected' mode)\n * @returns {JSX.Element} DeleteConfirmationModal component\n */\nexport function DeleteConfirmationModal(props) {\n  const { isOpen, onClose, onConfirm, mode, count } = props;\n\n  if (!isOpen) return null;\n\n  // Determine title and message based on mode\n  let title = 'Confirm Delete';\n  let message = 'Are you sure you want to delete this item?';\n\n  if (mode === 'selected') {\n    title = 'Delete Selected Recordings';\n    message = `Are you sure you want to delete ${count} selected recording${count !== 1 ? 's' : ''}?`;\n  } else if (mode === 'all') {\n    title = 'Delete All Filtered Recordings';\n    message = 'Are you sure you want to delete all recordings matching the current filters? This action cannot be undone.';\n  }\n\n  // Handle escape key\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  // Handle background click\n  const handleBackgroundClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return html`\n    <div\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      onClick=${handleBackgroundClick}\n      onKeyDown=${handleKeyDown}\n    >\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-md mx-auto\">\n        <div class=\"mb-4\">\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">${title}</h3>\n        </div>\n\n        <p class=\"text-gray-600 dark:text-gray-300 mb-6\">${message}</p>\n\n        <div class=\"flex justify-end space-x-3\">\n          <button\n            class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\"\n            onClick=${onClose}\n          >\n            Cancel\n          </button>\n          <button\n            class=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n            onClick=${onConfirm}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n/**\n * Show a video modal\n * @param {string} videoUrl - URL of the video to display\n * @param {string} title - Title for the video\n * @param {string} downloadUrl - Optional URL for downloading the video\n */\nexport function showVideoModal(videoUrl, title, downloadUrl) {\n  // Create overlay container\n  const overlay = document.createElement('div');\n  overlay.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';\n  overlay.id = 'video-modal-overlay';\n\n  // Create modal container with responsive classes\n  const modalContainer = document.createElement('div');\n  modalContainer.className = 'bg-gray-50 dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl flex flex-col w-full md:w-[90%]';\n\n  // Create header\n  const header = document.createElement('div');\n  header.className = 'flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700';\n\n  const titleElement = document.createElement('h3');\n  titleElement.className = 'text-lg font-semibold text-gray-900 dark:text-white';\n  titleElement.textContent = title || 'Video';\n\n  const closeButton = document.createElement('button');\n  closeButton.className = 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200';\n  closeButton.innerHTML = '';\n  closeButton.addEventListener('click', () => {\n    document.body.removeChild(overlay);\n  });\n\n  header.appendChild(titleElement);\n  header.appendChild(closeButton);\n\n  // Create video container with responsive classes\n  const videoContainer = document.createElement('div');\n  videoContainer.className = 'p-4';\n\n  const video = document.createElement('video');\n  video.src = videoUrl;\n  video.className = 'w-full h-auto max-w-full object-contain mx-auto';\n  video.controls = true;\n  video.autoplay = true;\n\n  videoContainer.appendChild(video);\n\n  // Create controls container with responsive Tailwind classes\n  const controlsContainer = document.createElement('div');\n  controlsContainer.id = 'recordings-controls';\n  controlsContainer.className = 'mx-4 mb-4 p-4 border border-green-500 rounded-lg bg-white dark:bg-gray-700 shadow-md relative z-10';\n\n  // Create heading\n  const heading = document.createElement('h3');\n  heading.className = 'text-lg font-bold text-center mb-4 text-gray-800 dark:text-white';\n  heading.textContent = 'PLAYBACK CONTROLS';\n  controlsContainer.appendChild(heading);\n\n  // Create controls grid container\n  const controlsGrid = document.createElement('div');\n  controlsGrid.className = 'grid grid-cols-1 md:grid-cols-2 gap-4 mb-2';\n\n  // Create speed controls section\n  const speedControlsSection = document.createElement('div');\n  speedControlsSection.className = 'border-b pb-4 md:border-b-0 md:border-r md:pr-4 md:pb-0';\n\n  // Create speed section heading\n  const speedHeading = document.createElement('h4');\n  speedHeading.className = 'font-bold text-center mb-3 text-gray-700 dark:text-gray-300';\n  speedHeading.textContent = 'Playback Speed';\n  speedControlsSection.appendChild(speedHeading);\n\n  // Create speed buttons container\n  const speedButtonsContainer = document.createElement('div');\n  speedButtonsContainer.className = 'flex flex-wrap justify-center gap-2';\n\n  // Create speed buttons\n  const speeds = [0.25, 0.5, 1.0, 1.5, 2.0, 4.0];\n  speeds.forEach(speed => {\n    const button = document.createElement('button');\n    button.textContent = speed === 1.0 ? '1 (Normal)' : `${speed}`;\n    button.className = speed === 1.0\n      ? 'speed-btn px-3 py-2 rounded-full bg-green-500 text-white text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50'\n      : 'speed-btn px-3 py-2 rounded-full bg-gray-200 hover:bg-gray-300 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50';\n    button.setAttribute('data-speed', speed);\n\n    // Add click event\n    button.addEventListener('click', () => {\n      // Set playback speed\n      video.playbackRate = speed;\n\n      // Update button styles\n      speedButtonsContainer.querySelectorAll('.speed-btn').forEach(btn => {\n        if (btn.getAttribute('data-speed') === speed.toString()) {\n          btn.classList.remove('bg-gray-200', 'hover:bg-gray-300');\n          btn.classList.add('bg-green-500', 'text-white');\n        } else {\n          btn.classList.remove('bg-green-500', 'text-white');\n          btn.classList.add('bg-gray-200', 'hover:bg-gray-300');\n        }\n      });\n\n      // Update current speed indicator\n      currentSpeedIndicator.textContent = `Current Speed: ${speed} ${speed === 1.0 ? '(Normal)' : ''}`;\n    });\n\n    speedButtonsContainer.appendChild(button);\n  });\n\n  // Add buttons container to speed controls section\n  speedControlsSection.appendChild(speedButtonsContainer);\n\n  // Add current speed indicator\n  const currentSpeedIndicator = document.createElement('div');\n  currentSpeedIndicator.id = 'current-speed-indicator';\n  currentSpeedIndicator.className = 'mt-3 text-center font-medium text-green-600 dark:text-green-400 text-sm';\n  currentSpeedIndicator.textContent = 'Current Speed: 1 (Normal)';\n  speedControlsSection.appendChild(currentSpeedIndicator);\n\n  // Add speed controls section to grid\n  controlsGrid.appendChild(speedControlsSection);\n\n  // Create detection overlay section\n  const detectionSection = document.createElement('div');\n  detectionSection.className = 'pt-4 md:pt-0 md:pl-4';\n\n  // Create detection section heading\n  const detectionHeading = document.createElement('h4');\n  detectionHeading.className = 'font-bold text-center mb-2 text-gray-700 dark:text-gray-300';\n  detectionHeading.textContent = 'Detection Overlays';\n  detectionSection.appendChild(detectionHeading);\n\n  // Create detection controls container\n  const detectionControlsContainer = document.createElement('div');\n  detectionControlsContainer.className = 'flex flex-col items-center gap-2';\n\n  // Create detection checkbox container\n  const detectionCheckboxContainer = document.createElement('div');\n  detectionCheckboxContainer.className = 'flex items-center gap-2 mb-2';\n\n  // Create detection checkbox\n  const detectionCheckbox = document.createElement('input');\n  detectionCheckbox.type = 'checkbox';\n  detectionCheckbox.id = 'detection-overlay-checkbox';\n  detectionCheckbox.className = 'w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600';\n\n  // Create detection checkbox label\n  const detectionCheckboxLabel = document.createElement('label');\n  detectionCheckboxLabel.htmlFor = 'detection-overlay-checkbox';\n  detectionCheckboxLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300';\n  detectionCheckboxLabel.textContent = 'Show Detection Overlays';\n\n  // Add checkbox and label to container\n  detectionCheckboxContainer.appendChild(detectionCheckbox);\n  detectionCheckboxContainer.appendChild(detectionCheckboxLabel);\n\n  // Add checkbox container to detection controls\n  detectionControlsContainer.appendChild(detectionCheckboxContainer);\n\n  // Create sensitivity slider container\n  const sensitivityContainer = document.createElement('div');\n  sensitivityContainer.className = 'flex flex-col w-full mt-2 mb-2';\n\n  // Create sensitivity label\n  const sensitivityLabel = document.createElement('label');\n  sensitivityLabel.htmlFor = 'detection-sensitivity-slider';\n  sensitivityLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300 mb-1';\n  sensitivityLabel.textContent = 'Detection Sensitivity';\n\n  // Create sensitivity value display\n  const sensitivityValue = document.createElement('div');\n  sensitivityValue.id = 'detection-sensitivity-value';\n  sensitivityValue.className = 'text-xs text-gray-600 dark:text-gray-400 text-center mb-1';\n  sensitivityValue.textContent = 'Time Window: 2 seconds';\n\n  // Create sensitivity slider\n  const sensitivitySlider = document.createElement('input');\n  sensitivitySlider.type = 'range';\n  sensitivitySlider.id = 'detection-sensitivity-slider';\n  sensitivitySlider.className = 'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700';\n  sensitivitySlider.min = '1';\n  sensitivitySlider.max = '10';\n  sensitivitySlider.step = '1';\n  sensitivitySlider.value = '2';\n\n  // Add elements to sensitivity container\n  sensitivityContainer.appendChild(sensitivityLabel);\n  sensitivityContainer.appendChild(sensitivitySlider);\n  sensitivityContainer.appendChild(sensitivityValue);\n\n  // Add event listener to the sensitivity slider\n  sensitivitySlider.addEventListener('input', () => {\n    // Update the time window value\n    timeWindow = parseInt(sensitivitySlider.value);\n\n    // Update the sensitivity value display\n    sensitivityValue.textContent = `Time Window: ${timeWindow} second${timeWindow !== 1 ? 's' : ''}`;\n\n    // Redraw detections if enabled\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  // Add sensitivity container to detection controls\n  detectionControlsContainer.appendChild(sensitivityContainer);\n\n  // Create detection status indicator\n  const detectionStatusIndicator = document.createElement('div');\n  detectionStatusIndicator.id = 'detection-status-indicator';\n  detectionStatusIndicator.className = 'text-center text-sm text-gray-600 dark:text-gray-400';\n  detectionStatusIndicator.textContent = 'No detections loaded';\n\n  // Add status indicator to detection controls\n  detectionControlsContainer.appendChild(detectionStatusIndicator);\n\n  // Add detection controls to detection section\n  detectionSection.appendChild(detectionControlsContainer);\n\n  // Add detection section to grid\n  controlsGrid.appendChild(detectionSection);\n\n  // Add controls grid to container\n  controlsContainer.appendChild(controlsGrid);\n\n  // Add download button to controls container\n  if (downloadUrl) {\n    const downloadSection = document.createElement('div');\n    downloadSection.className = 'flex justify-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-700';\n\n    const downloadButton = document.createElement('a');\n    downloadButton.className = 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center text-sm';\n    downloadButton.innerHTML = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n      </svg>\n      Download Video\n    `;\n    downloadButton.href = downloadUrl;\n    downloadButton.download = `video-${Date.now()}.mp4`;\n\n    downloadSection.appendChild(downloadButton);\n    controlsContainer.appendChild(downloadSection);\n  }\n\n  // Create empty footer for spacing\n  const footer = document.createElement('div');\n  footer.className = 'p-2';\n\n  // Create detection overlay canvas container\n  const canvasContainer = document.createElement('div');\n  canvasContainer.className = 'relative';\n  canvasContainer.style.position = 'relative';\n  canvasContainer.style.width = '100%';\n  canvasContainer.style.height = '100%';\n\n  // Create detection overlay canvas\n  const detectionCanvas = document.createElement('canvas');\n  detectionCanvas.id = 'detection-overlay-canvas';\n  detectionCanvas.className = 'absolute top-0 left-0 w-full h-full pointer-events-none';\n  detectionCanvas.style.position = 'absolute';\n  detectionCanvas.style.top = '0';\n  detectionCanvas.style.left = '0';\n  detectionCanvas.style.width = '100%';\n  detectionCanvas.style.height = '100%';\n  detectionCanvas.style.pointerEvents = 'none';\n  detectionCanvas.style.display = 'none'; // Hidden by default\n\n  // Wrap video in canvas container\n  canvasContainer.appendChild(video);\n  canvasContainer.appendChild(detectionCanvas);\n  videoContainer.appendChild(canvasContainer);\n\n  // Store recording data for detection overlay\n  let recordingData = null;\n  let detections = [];\n  let detectionOverlayEnabled = false;\n  let timeWindow = parseInt(sensitivitySlider.value); // Time window in seconds for detection visibility\n\n  // Extract recording ID from URL\n  const recordingIdMatch = videoUrl.match(/\\/play\\/(\\d+)/);\n  if (recordingIdMatch && recordingIdMatch[1]) {\n    const recordingId = parseInt(recordingIdMatch[1], 10);\n\n    // Create a container for the query client\n    const queryContainer = document.createElement('div');\n    queryContainer.id = 'query-container';\n    queryContainer.style.display = 'none';\n    document.body.appendChild(queryContainer);\n\n    // Import preact for rendering\n    import('preact').then(({ render, h }) => {\n      // Create a component to fetch the data\n      const RecordingDataFetcher = () => {\n        // Fetch recording data\n        const { data: recording, isLoading: isLoadingRecording, error: recordingError } =\n          useQuery(['recording', recordingId], `/api/recordings/${recordingId}`);\n\n        // When recording data is loaded, fetch detections\n        let detectionQueryEnabled = false;\n        let startTime, endTime, streamName;\n\n        if (recording && recording.stream && recording.start_time && recording.end_time) {\n          recordingData = recording;\n          console.log('Recording data:', recording);\n\n          // Convert timestamps to seconds\n          startTime = Math.floor(new Date(recording.start_time).getTime() / 1000);\n          endTime = Math.floor(new Date(recording.end_time).getTime() / 1000);\n          streamName = recording.stream;\n          detectionQueryEnabled = true;\n        }\n\n        // Fetch detections if recording data is available\n        const { data: detectionData, isLoading: isLoadingDetections, error: detectionError } =\n          useQuery(\n            ['detections', streamName, startTime, endTime],\n            detectionQueryEnabled ? `/api/detection/results/${streamName}?start=${startTime}&end=${endTime}` : null,\n            {},\n            { enabled: detectionQueryEnabled }\n          );\n\n        // Process detection data when it's loaded\n        if (detectionData && detectionData.detections) {\n          console.log('Detection data:', detectionData);\n          detections = detectionData.detections || [];\n\n          // Update detection status\n          if (detectionStatusIndicator) {\n            if (detections.length > 0) {\n              detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n              detectionStatusIndicator.className = 'text-center text-sm font-medium text-green-600 dark:text-green-400';\n              // Enable detection checkbox\n              if (detectionCheckbox) {\n                detectionCheckbox.disabled = false;\n              }\n            } else {\n              // No detections found\n              detectionStatusIndicator.textContent = 'No detections found for this recording';\n              // Disable detection checkbox\n              if (detectionCheckbox) {\n                detectionCheckbox.disabled = true;\n              }\n            }\n          }\n        }\n\n        // Handle errors\n        if (recordingError) {\n          console.error('Error loading recording data:', recordingError);\n        }\n\n        if (detectionError) {\n          console.error('Error loading detection data:', detectionError);\n          // Update detection status\n          if (detectionStatusIndicator) {\n            detectionStatusIndicator.textContent = 'Error loading detections';\n            detectionStatusIndicator.className = 'text-center text-sm font-medium text-red-600 dark:text-red-400';\n          }\n          // Disable detection checkbox\n          if (detectionCheckbox) {\n            detectionCheckbox.disabled = true;\n          }\n        }\n\n        return null; // This component doesn't render anything\n      };\n\n      // Render the component with QueryClientProvider\n      render(\n        h(QueryClientProvider, { client: queryClient },\n          h(RecordingDataFetcher)\n        ),\n        queryContainer\n      );\n    }).catch(err => {\n      console.error('Error loading preact for data fetching:', err);\n\n      // Fallback to traditional fetch if preact-query fails\n      fetch(`/api/recordings/${recordingId}`)\n        .then(response => response.json())\n        .then(data => {\n          recordingData = data;\n\n          if (recordingData && recordingData.stream && recordingData.start_time && recordingData.end_time) {\n            const startTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n            const endTime = Math.floor(new Date(recordingData.end_time).getTime() / 1000);\n\n            const params = new URLSearchParams({\n              start: startTime,\n              end: endTime\n            });\n\n            return fetch(`/api/detection/results/${recordingData.stream}?${params.toString()}`);\n          }\n\n          throw new Error('Recording data incomplete');\n        })\n        .then(response => response.json())\n        .then(data => {\n          detections = data.detections || [];\n\n          if (detections.length > 0) {\n            detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n            detectionStatusIndicator.className = 'text-center text-sm font-medium text-green-600 dark:text-green-400';\n            detectionCheckbox.disabled = false;\n          } else {\n            detectionStatusIndicator.textContent = 'No detections found for this recording';\n            detectionCheckbox.disabled = true;\n          }\n        })\n        .catch(error => {\n          console.error('Error fetching detection data:', error);\n          detectionStatusIndicator.textContent = 'Error loading detections';\n          detectionStatusIndicator.className = 'text-center text-sm font-medium text-red-600 dark:text-red-400';\n          detectionCheckbox.disabled = true;\n        });\n    });\n  }\n\n  // Handle detection overlay checkbox change\n  detectionCheckbox.addEventListener('change', () => {\n    detectionOverlayEnabled = detectionCheckbox.checked;\n\n    if (detectionOverlayEnabled) {\n      // Show canvas\n      detectionCanvas.style.display = 'block';\n\n      // Draw detections\n      drawDetections();\n\n      // Update status\n      detectionStatusIndicator.textContent = `Showing ${detections.length} detection${detections.length !== 1 ? 's' : ''}`;\n    } else {\n      // Hide canvas\n      detectionCanvas.style.display = 'none';\n\n      // Update status\n      detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n    }\n  });\n\n  // Function to draw detections on canvas\n  function drawDetections() {\n    if (!detectionOverlayEnabled || !video || !detectionCanvas || detections.length === 0) {\n      return;\n    }\n\n    // Get video dimensions\n    const videoWidth = video.videoWidth;\n    const videoHeight = video.videoHeight;\n\n    if (videoWidth === 0 || videoHeight === 0) {\n      // Video dimensions not available yet, try again later\n      requestAnimationFrame(drawDetections);\n      return;\n    }\n\n    // Set canvas dimensions to match video\n    detectionCanvas.width = videoWidth;\n    detectionCanvas.height = videoHeight;\n\n    // Get canvas context\n    const ctx = detectionCanvas.getContext('2d');\n    ctx.clearRect(0, 0, detectionCanvas.width, detectionCanvas.height);\n\n    // Get current video time in seconds\n    const currentTime = video.currentTime;\n\n    // Calculate the timestamp for the current video position\n    // We need to convert from video time (seconds from start of video) to unix timestamp\n    if (!recordingData || !recordingData.start_time) {\n      return;\n    }\n\n    // Convert recording start time to seconds\n    const recordingStartTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n\n    // Calculate current timestamp in the video\n    const currentTimestamp = recordingStartTime + Math.floor(currentTime);\n\n    // Use the time window value from the slider\n    // timeWindow is already defined at the top level\n\n    // Filter detections to only show those within the time window\n    const visibleDetections = detections.filter(detection => {\n      if (!detection.timestamp) return false;\n\n      // Check if detection is within the time window\n      return Math.abs(detection.timestamp - currentTimestamp) <= timeWindow;\n    });\n\n    // Update status indicator with count of visible detections\n    if (detectionStatusIndicator) {\n      if (visibleDetections.length > 0) {\n        detectionStatusIndicator.textContent = `Showing ${visibleDetections.length} detection${visibleDetections.length !== 1 ? 's' : ''} at current time`;\n      } else {\n        detectionStatusIndicator.textContent = `No detections at current time (${detections.length} total)`;\n      }\n    }\n\n    // Draw each visible detection\n    visibleDetections.forEach(detection => {\n      // Calculate coordinates based on relative positions\n      const x = detection.x * videoWidth;\n      const y = detection.y * videoHeight;\n      const width = detection.width * videoWidth;\n      const height = detection.height * videoHeight;\n\n      // Draw bounding box\n      ctx.strokeStyle = 'rgba(0, 255, 0, 0.8)';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(x, y, width, height);\n\n      // Draw label background\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n      const labelText = `${detection.label} (${Math.round(detection.confidence * 100)}%)`;\n      const labelWidth = ctx.measureText(labelText).width + 10;\n      ctx.fillRect(x, y - 20, labelWidth, 20);\n\n      // Draw label text\n      ctx.fillStyle = 'white';\n      ctx.font = '12px Arial';\n      ctx.fillText(labelText, x + 5, y - 5);\n    });\n\n    // Request next frame if video is playing\n    if (!video.paused && !video.ended) {\n      requestAnimationFrame(drawDetections);\n    }\n  }\n\n  // Handle video events\n  video.addEventListener('play', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  video.addEventListener('seeked', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  // Add timeupdate event to update detections as video plays\n  video.addEventListener('timeupdate', () => {\n    if (detectionOverlayEnabled) {\n      // Don't redraw on every timeupdate as it's too frequent\n      // Instead, redraw every 0.5 seconds\n      const currentTime = Math.floor(video.currentTime * 2) / 2;\n      if (video.lastDrawnTime !== currentTime) {\n        video.lastDrawnTime = currentTime;\n        drawDetections();\n      }\n    }\n  });\n\n  // Assemble the modal\n  modalContainer.appendChild(header);\n  modalContainer.appendChild(videoContainer);\n  modalContainer.appendChild(controlsContainer); // Add controls\n  modalContainer.appendChild(footer);\n  overlay.appendChild(modalContainer);\n\n  // Add to document\n  document.body.appendChild(overlay);\n\n  // Add event listener to close on escape key\n  const handleEscape = (e) => {\n    if (e.key === 'Escape') {\n      if (document.body.contains(overlay)) {\n        document.body.removeChild(overlay);\n      }\n      document.removeEventListener('keydown', handleEscape);\n    }\n  };\n\n  document.addEventListener('keydown', handleEscape);\n\n  // Add event listener to close on background click\n  overlay.addEventListener('click', (e) => {\n    if (e.target === overlay) {\n      document.body.removeChild(overlay);\n    }\n  });\n}\n\n/**\n * Show a status message to the user\n * @param {string} message - Message to display\n * @param {string} type - Message type ('success', 'error', 'warning', 'info')\n * @param {number} duration - Duration in milliseconds (default: 4000)\n */\nexport function showStatusMessage(message, type = 'info', duration = 4000) {\n  console.log(`Showing status message: ${message} (${type})`);\n\n  // Try to use the global toast functions first (they should be available)\n  if (window.showToast) {\n    window.showToast(message, type, duration);\n    return;\n  }\n\n  // If global functions aren't available, import the toast module dynamically\n  import('./toast.js').then(({ showStatusMessage: showToast }) => {\n    // Use the toast system\n    showToast(message, type, duration);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n\n    // Fallback to basic implementation if toast module fails to load\n    let statusContainer = document.getElementById('status-message-container');\n\n    // Create container if it doesn't exist\n    if (!statusContainer) {\n      statusContainer = document.createElement('div');\n      statusContainer.id = 'status-message-container';\n      statusContainer.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center';\n      document.body.appendChild(statusContainer);\n    }\n\n    // Create message element\n    const messageElement = document.createElement('div');\n\n    // Set class based on type\n    let typeClass = 'bg-blue-500'; // Default for info\n    if (type === 'success') {\n      typeClass = 'bg-green-500';\n    } else if (type === 'error') {\n      typeClass = 'bg-red-500';\n    } else if (type === 'warning') {\n      typeClass = 'bg-yellow-500';\n    }\n\n    messageElement.className = `${typeClass} text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2`;\n    messageElement.textContent = message;\n\n    // Add to container\n    statusContainer.appendChild(messageElement);\n\n    // Trigger animation to show message\n    setTimeout(() => {\n      messageElement.classList.remove('opacity-0', 'translate-y-2');\n    }, 10);\n\n    // Set timeout to remove message\n    setTimeout(() => {\n      // Trigger animation to hide message\n      messageElement.classList.add('opacity-0', 'translate-y-2');\n\n      // Remove element after animation completes\n      setTimeout(() => {\n        if (messageElement.parentNode === statusContainer) {\n          statusContainer.removeChild(messageElement);\n        }\n\n        // Remove container if no more messages\n        if (statusContainer.children.length === 0 && statusContainer.parentNode === document.body) {\n          document.body.removeChild(statusContainer);\n        }\n      }, 300);\n    }, duration);\n  });\n}\n\n/**\n * Show a snapshot preview in a modal\n * @param {string} imageData - The image data URL\n * @param {string} streamName - The name of the stream\n */\nexport function showSnapshotPreview(imageData, streamName) {\n  // Get the existing snapshot modal created by setupModals()\n  const snapshotModal = document.getElementById('snapshot-preview-modal');\n\n  if (!snapshotModal) {\n    console.error('Snapshot modal not found. Make sure setupModals() has been called.');\n    return;\n  }\n\n  // Get modal elements\n  const snapshotTitle = document.getElementById('snapshot-preview-title');\n  const snapshotImage = document.getElementById('snapshot-preview-image');\n  const snapshotDownloadBtn = document.getElementById('snapshot-download-btn');\n  const snapshotCloseBtn = document.getElementById('snapshot-close-btn');\n  const closeButtons = snapshotModal.querySelectorAll('.close');\n  const modalContent = snapshotModal.querySelector('.modal-content');\n\n  // Set the title and image\n  if (snapshotTitle) snapshotTitle.textContent = `Snapshot: ${streamName}`;\n\n  // Store the image data directly on the modal for later access\n  snapshotModal.dataset.imageData = imageData;\n  snapshotModal.dataset.streamName = streamName;\n\n  // Ensure the image is properly displayed\n  if (snapshotImage) {\n    snapshotImage.src = imageData;\n    snapshotImage.style.display = 'block'; // Make sure it's visible\n    snapshotImage.onload = () => {\n      console.log('Snapshot image loaded successfully');\n    };\n    snapshotImage.onerror = (e) => {\n      console.error('Error loading snapshot image:', e);\n    };\n  }\n\n  // Define close modal function\n  function closeModal() {\n    snapshotModal.classList.add('hidden');\n    if (modalContent) {\n      modalContent.classList.remove('scale-100');\n      modalContent.classList.add('scale-95');\n    }\n  }\n\n  // Set up close button event handlers\n  if (snapshotCloseBtn) {\n    snapshotCloseBtn.onclick = closeModal;\n  }\n\n  closeButtons.forEach(button => {\n    button.onclick = closeModal;\n  });\n\n  // Close on click outside\n  snapshotModal.onclick = function(event) {\n    if (event.target === snapshotModal) {\n      closeModal();\n    }\n  };\n\n  // Close on escape key\n  document.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape' && !snapshotModal.classList.contains('hidden')) {\n      closeModal();\n    }\n  });\n\n  // Set up download button\n  if (snapshotDownloadBtn) {\n    snapshotDownloadBtn.onclick = function() {\n      // Get the stored image data from the modal\n      const storedImageData = snapshotModal.dataset.imageData;\n      const storedStreamName = snapshotModal.dataset.streamName || streamName;\n\n      if (!storedImageData) {\n        console.error('No image data available for download');\n        showStatusMessage('Download failed: No image data available', 5000);\n        return;\n      }\n\n      console.log('Downloading snapshot with data URL length:', storedImageData.length);\n\n      try {\n        // Create a temporary download iframe - this approach often works better on HTTP\n        console.log('Using iframe download method');\n\n        // Create a canvas to resize and optimize the image\n        const canvas = document.createElement('canvas');\n        const img = new Image();\n\n        img.onload = function() {\n          try {\n            console.log('Image loaded for optimization, original dimensions:', img.width, 'x', img.height);\n\n            // Use original dimensions as requested by the user\n            const newWidth = img.width;\n            const newHeight = img.height;\n            console.log('Using original image dimensions for maximum quality:', newWidth, 'x', newHeight);\n\n            // Set canvas dimensions to the new size\n            canvas.width = newWidth;\n            canvas.height = newHeight;\n\n            // Draw the image on the canvas with the new dimensions\n            const ctx = canvas.getContext('2d');\n            ctx.fillStyle = 'black';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, newWidth, newHeight);\n\n            // Convert to JPEG with maximum quality for best image quality\n            const optimizedJpegData = canvas.toDataURL('image/jpeg', 1.0);\n            console.log('Optimized JPEG data URL length:', optimizedJpegData.length);\n\n            // Create a download link with the optimized image\n            const filename = `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`;\n\n            // Method 1: Try the iframe approach\n            const iframe = document.createElement('iframe');\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            try {\n              // Write a simple HTML document to the iframe with a download link\n              const iframeDoc = iframe.contentWindow.document;\n              iframeDoc.open();\n              iframeDoc.write(`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                  <title>Downloading...</title>\n                  <script>\n                    function startDownload() {\n                      const a = document.getElementById('download-link');\n                      a.click();\n                      setTimeout(function() {\n                        window.parent.postMessage('download-complete', '*');\n                      }, 1000);\n                    }\n                  </script>\n                </head>\n                <body onload=\"startDownload()\">\n                  <a id=\"download-link\" href=\"${optimizedJpegData}\" download=\"${filename}\">Download</a>\n                </body>\n                </html>\n              `);\n              iframeDoc.close();\n\n              // Listen for the download complete message\n              window.addEventListener('message', function onMessage(e) {\n                if (e.data === 'download-complete') {\n                  window.removeEventListener('message', onMessage);\n                  document.body.removeChild(iframe);\n                  showStatusMessage('Snapshot downloaded successfully', 3000);\n                }\n              }, { once: true });\n\n              // Fallback cleanup in case the message isn't received\n              setTimeout(() => {\n                if (document.body.contains(iframe)) {\n                  document.body.removeChild(iframe);\n                }\n              }, 5000);\n\n            } catch (iframeError) {\n              console.error('Iframe download method failed:', iframeError);\n              document.body.removeChild(iframe);\n\n              // Fallback to direct link method\n              tryDirectLinkDownload(optimizedJpegData, filename);\n            }\n          } catch (canvasError) {\n            console.error('Canvas processing error:', canvasError);\n            showStatusMessage('Download failed: Error processing image', 5000);\n\n            // Try direct download with original data\n            tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n          }\n        };\n\n        img.onerror = function(e) {\n          console.error('Error loading image for optimization:', e);\n          showStatusMessage('Download failed: Could not load image', 5000);\n\n          // Try direct download with original data\n          tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n        };\n\n        // Set the source to trigger loading\n        img.src = storedImageData;\n\n      } catch (error) {\n        console.error('Error in snapshot download process:', error);\n        showStatusMessage('Download failed: ' + error.message, 5000);\n\n        // Try direct download with original data as last resort\n        tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n      }\n\n      // Helper function for direct link download\n      function tryDirectLinkDownload(dataUrl, filename) {\n        console.log('Attempting direct link download');\n        try {\n          const link = document.createElement('a');\n          link.href = dataUrl;\n          link.download = filename;\n          link.target = '_blank'; // Try opening in a new tab\n          link.rel = 'noopener noreferrer';\n          document.body.appendChild(link);\n          link.click();\n\n          // Clean up\n          setTimeout(() => {\n            document.body.removeChild(link);\n          }, 100);\n\n          showStatusMessage('Download initiated', 3000);\n        } catch (linkError) {\n          console.error('Direct link download failed:', linkError);\n          showStatusMessage('Download failed: Browser restrictions', 5000);\n        }\n      }\n    };\n  }\n\n  // Show the modal\n  snapshotModal.classList.remove('hidden');\n\n  // Animate the modal content\n  if (modalContent) {\n    setTimeout(() => {\n      modalContent.classList.remove('scale-95', 'opacity-0');\n      modalContent.classList.add('scale-100', 'opacity-100');\n    }, 10);\n  }\n}\n","/**\n * LightNVR Web Interface Preact App\n * Main entry point for the Preact application\n */\n\n// Import from preact for better compatibility\nimport { createElement as h, render } from 'preact';\nimport { html } from './html-helper.js';\n// Import WebSocketClient class directly\nimport { WebSocketClient, BatchDeleteRecordingsClient } from './websocket-client.js';\n// Add React compatibility layer\nimport * as React from '@preact/compat';\nwindow.React = React; // Make React available globally\n\nimport { loadHeader } from './components/preact/Header.js';\nimport { loadFooter } from './components/preact/Footer.js';\nimport { setupModals, addStatusMessageStyles, addModalStyles } from './components/preact/UI.js';\nimport { QueryClientProvider, queryClient } from './query-client.js';\n\n// Initialize WebSocket client at the parent level\n// This ensures a single WebSocket connection is shared across all components\nif (typeof WebSocketClient !== 'undefined') {\n  // Create a global WebSocket client instance\n  window.wsClient = new WebSocketClient();\n  console.log('WebSocket client initialized at application level');\n\n  // Add additional event listeners for debugging\n  if (window.wsClient) {\n    // Log initial connection state\n    console.log('Initial WebSocket connection state:', {\n      connected: window.wsClient.isConnected(),\n      clientId: window.wsClient.getClientId()\n    });\n\n    // Add socket event listeners when socket is created\n    const originalConnect = window.wsClient.connect;\n    window.wsClient.connect = function() {\n      const result = originalConnect.apply(this, arguments);\n\n      // Add event listeners to the new socket\n      if (this.socket) {\n        const originalOnOpen = this.socket.onopen;\n        this.socket.onopen = (event) => {\n          console.log('WebSocket connection opened at application level');\n          if (originalOnOpen) originalOnOpen.call(this, event);\n        };\n\n        const originalOnError = this.socket.onerror;\n        this.socket.onerror = (error) => {\n          console.error('WebSocket error at application level:', error);\n          if (originalOnError) originalOnError.call(this, error);\n        };\n\n        const originalOnClose = this.socket.onclose;\n        this.socket.onclose = (event) => {\n          console.log(`WebSocket connection closed at application level: ${event.code} ${event.reason}`);\n          if (originalOnClose) originalOnClose.call(this, event);\n        };\n\n        const originalOnMessage = this.socket.onmessage;\n        this.socket.onmessage = (event) => {\n          // Only log non-welcome messages at application level to reduce noise\n          if (!event.data.includes('\"type\":\"welcome\"')) {\n            console.log('WebSocket message received at application level');\n          }\n          if (originalOnMessage) originalOnMessage.call(this, event);\n        };\n      }\n\n      return result;\n    };\n\n    // Override handleMessage to log when client ID is set\n    const originalHandleMessage = window.wsClient.handleMessage;\n    window.wsClient.handleMessage = function(data) {\n      const clientIdBefore = this.clientId;\n      originalHandleMessage.call(this, data);\n      const clientIdAfter = this.clientId;\n\n      // Log when client ID changes\n      if (clientIdBefore !== clientIdAfter && clientIdAfter) {\n        console.log(`WebSocket client ID changed at application level: ${clientIdAfter}`);\n      }\n    };\n  }\n\n  // Initialize batch delete client if needed\n  if (typeof BatchDeleteRecordingsClient !== 'undefined') {\n    window.batchDeleteClient = new BatchDeleteRecordingsClient(window.wsClient);\n    console.log('Batch delete client initialized');\n  }\n}\n\n/**\n * Simple store implementation for state management\n * @param {Object} initialState - Initial state\n * @returns {Object} Store object with getState, setState, and subscribe methods\n */\nfunction createStore(initialState = {}) {\n  let state = { ...initialState };\n  const listeners = new Set();\n\n  return {\n    getState: () => state,\n    setState: (newState) => {\n      if (typeof newState === 'function') {\n        state = newState(state);\n      } else {\n        state = { ...state, ...newState };\n      }\n\n      // Notify listeners\n      listeners.forEach(listener => listener(state));\n    },\n    subscribe: (listener) => {\n      listeners.add(listener);\n\n      // Return unsubscribe function\n      return () => {\n        listeners.delete(listener);\n      };\n    }\n  };\n}\n\n// Create stores for UI state\nexport const statusMessageStore = createStore({\n  message: '',\n  visible: false,\n  timeout: null,\n  type: 'success'\n});\n\nexport const snapshotModalStore = createStore({\n  imageUrl: '',\n  title: ''\n});\n\nexport const videoModalStore = createStore({\n  videoUrl: '',\n  title: '',\n  downloadUrl: ''\n});\n\n// Create a store for WebSocket state\nexport const websocketStore = createStore({\n  client: window.wsClient || null,\n  connected: window.wsClient ? window.wsClient.isConnected() : false,\n  clientId: window.wsClient ? window.wsClient.getClientId() : null\n});\n\n// Update websocket store when connection status changes\nif (window.wsClient) {\n  // Set up a periodic check for WebSocket status\n  setInterval(() => {\n    if (window.wsClient) {\n      const connected = window.wsClient.isConnected();\n      const clientId = window.wsClient.getClientId();\n\n      websocketStore.setState({\n        connected,\n        clientId\n      });\n\n      // If not connected and not already reconnecting, try to reconnect\n      if (!connected && !window.wsClient.connecting && window.wsClient.reconnectAttempts < window.wsClient.maxReconnectAttempts) {\n        console.log('WebSocket not connected, attempting to reconnect from application level');\n        window.wsClient.connect();\n      }\n    }\n  }, 5000); // Check every 5 seconds\n}\n\n/**\n * Set up global fetch error handler for authentication\n */\nfunction setupGlobalAuthHandler() {\n  // Override fetch to handle 401 responses globally\n  const originalFetch = window.fetch;\n  window.fetch = async function(url, options) {\n    const response = await originalFetch.apply(this, arguments);\n\n    if (response.status === 401 && !window.location.pathname.includes('login.html')) {\n      console.log('401 detected, redirecting to login');\n      const currentPath = window.location.pathname + window.location.search;\n      window.location.href = '/login.html?redirect=' + encodeURIComponent(currentPath);\n    }\n\n    return response;\n  };\n}\n\n/**\n * Initialize the application\n */\nfunction initApp() {\n  // Set up global authentication handler\n  setupGlobalAuthHandler();\n\n  // Get current page and query parameters\n  const currentPage = window.location.pathname.split('/').pop();\n  const currentQuery = window.location.search;\n\n  // Load header with active navigation\n  let activeNav = '';\n\n  switch (currentPage) {\n    case 'index.html':\n    case '': // Handle root URL (/) as index.html\n      activeNav = 'nav-live';\n      break;\n    case 'recordings.html':\n    case 'timeline.html':\n      activeNav = 'nav-recordings';\n      break;\n    case 'streams.html':\n      activeNav = 'nav-streams';\n      break;\n    case 'settings.html':\n      activeNav = 'nav-settings';\n      break;\n    case 'users.html':\n      activeNav = 'nav-users';\n      break;\n    case 'system.html':\n      activeNav = 'nav-system';\n      break;\n  }\n\n  // Ensure we have an app-root element\n  let appRoot = document.getElementById('app-root');\n  if (!appRoot) {\n    // Create app-root if it doesn't exist\n    appRoot = document.createElement('div');\n    appRoot.id = 'app-root';\n    const mainContent = document.getElementById('main-content');\n    if (mainContent) {\n      mainContent.appendChild(appRoot);\n    } else {\n      document.body.appendChild(appRoot);\n    }\n    console.log('Created app-root element for Preact Query provider');\n  }\n\n  // Wrap the app with QueryClientProvider\n  render(\n    h(QueryClientProvider, { client: queryClient },\n      h('div', { id: 'app-content' })\n    ),\n    appRoot\n  );\n\n  // Load header and footer\n  loadHeader(activeNav);\n  loadFooter();\n\n  // Load page-specific content using dynamic imports\n  if (currentPage === 'index.html') {\n    import('./components/preact/WebRTCView.js').then(module => {\n      module.loadWebRTCView();\n    });\n  } else if (currentPage === 'hls.html') {\n    import('./components/preact/LiveViewQuery.js').then(module => {\n      module.loadLiveView();\n    });\n  } else if (currentPage === 'recordings.html') {\n    import('./components/preact/RecordingsView.js').then(module => {\n      module.loadRecordingsView();\n    });\n  } else if (currentPage === 'timeline.html') {\n    import('./components/preact/timeline/TimelineView.js').then(module => {\n      module.loadTimelineView();\n    });\n  } else if (currentPage === 'settings.html') {\n    import('./components/preact/SettingsView.js').then(module => {\n      module.loadSettingsView();\n    });\n  } else if (currentPage === 'streams.html') {\n    import('./components/preact/StreamsView.js').then(module => {\n      module.loadStreamsView();\n    });\n  } else if (currentPage === 'system.html') {\n    import('./components/preact/SystemView.js').then(module => {\n      module.loadSystemView();\n    });\n  } else if (currentPage === 'login.html') {\n    import('./components/preact/LoginView.js').then(module => {\n      module.loadLoginView();\n    });\n  } else if (currentPage === 'users.html') {\n    import('./components/preact/UsersView.js').then(module => {\n      module.loadUsersView();\n    });\n  } else if (currentPage === '') {\n    import('./components/preact/WebRTCView.js').then(module => {\n      module.loadWebRTCView();\n    });\n  }\n\n  // Setup UI components\n  setupModals();\n  addStatusMessageStyles();\n  addModalStyles();\n\n  // Initialize toast container\n  import('./components/preact/toast.js').then(({ initToastContainer }) => {\n    // Initialize the toast container without showing a test message\n    initToastContainer(false);\n\n    // Log success\n    console.log('Toast container initialized from preact-app.js');\n\n    // Add a global function to test toasts\n    window.testToastFromApp = (type = 'info') => {\n      const message = `App test ${type} toast at ${new Date().toLocaleTimeString()}`;\n\n      if (window.showToast) {\n        window.showToast(message, type);\n      }\n\n      return 'App toast triggered';\n    };\n  }).catch(error => {\n    console.error('Error initializing toast container:', error);\n  });\n}\n\n// Initialize the app when the DOM is loaded\ndocument.addEventListener('DOMContentLoaded', initApp);\n\n// Export for use in other modules\nexport { h, render, html };\n"],"file":"assets/preact-app-rsOoHNHv.js"}